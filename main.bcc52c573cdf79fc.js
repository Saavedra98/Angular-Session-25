"use strict";(self.webpackChunksession_25=self.webpackChunksession_25||[]).push([[179],{930:()=>{function Te(t){return"function"==typeof t}function hu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const nd=hu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ho(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof nd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{J0(s)}catch(o){e=e??[],o instanceof nd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)J0(e);else{if(e instanceof bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ho(n,e)}remove(e){const{_finalizers:n}=this;n&&ho(n,e),e instanceof bn&&e._removeParent(this)}}bn.EMPTY=(()=>{const t=new bn;return t.closed=!0,t})();const Z0=bn.EMPTY;function X0(t){return t instanceof bn||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function J0(t){Te(t)?t():t.unsubscribe()}const Ji={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},rd={setTimeout(t,e,...n){const{delegate:r}=rd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=rd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function eT(t){rd.setTimeout(()=>{const{onUnhandledError:e}=Ji;if(!e)throw t;e(t)})}function tT(){}const QB=wg("C",void 0,void 0);function wg(t,e,n){return{kind:t,value:e,error:n}}let es=null;function id(t){if(Ji.useDeprecatedSynchronousErrorHandling){const e=!es;if(e&&(es={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=es;if(es=null,n)throw r}}else t()}class Ig extends bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,X0(e)&&e.add(this)):this.destination=n$}static create(e,n,r){return new fu(e,n,r)}next(e){this.isStopped?Dg(function ZB(t){return wg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Dg(function YB(t){return wg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dg(QB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const JB=Function.prototype.bind;function Eg(t,e){return JB.call(t,e)}class e${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sd(r)}else sd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sd(n)}}}class fu extends Ig{constructor(e,n,r){let i;if(super(),Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ji.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Eg(e.next,s),error:e.error&&Eg(e.error,s),complete:e.complete&&Eg(e.complete,s)}):i=e}this.destination=new e$(i)}}function sd(t){Ji.useDeprecatedSynchronousErrorHandling?function XB(t){Ji.useDeprecatedSynchronousErrorHandling&&es&&(es.errorThrown=!0,es.error=t)}(t):eT(t)}function Dg(t,e){const{onStoppedNotification:n}=Ji;n&&rd.setTimeout(()=>n(t,e))}const n$={closed:!0,next:tT,error:function t$(t){throw t},complete:tT},bg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ts(t){return t}function nT(...t){return rT(t)}function rT(t){return 0===t.length?ts:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function i$(t){return t&&t instanceof Ig||function r$(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}(t)&&X0(t)}(n)?n:new fu(n,r,i);return id(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=iT(r))((i,s)=>{const o=new fu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[bg](){return this}pipe(...n){return rT(n)(this)}toPromise(n){return new(n=iT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function iT(t){var e;return null!==(e=t??Ji.Promise)&&void 0!==e?e:Promise}const s$=hu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Or=(()=>{class t extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new sT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new s$}next(n){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Z0:(this.currentObservers=null,s.push(n),new bn(()=>{this.currentObservers=null,ho(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Oe;return n.source=this,n}}return t.create=(e,n)=>new sT(e,n),t})();class sT extends Or{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Z0}}function oT(t){return Te(t?.lift)}function _t(t){return e=>{if(oT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(t,e,n,r,i){return new o$(t,e,n,r,i)}class o$ extends Ig{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function te(t,e){return _t((n,r)=>{let i=0;n.subscribe(ut(r,s=>{r.next(t.call(e,s,i++))}))})}function uT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ns(t){return this instanceof ns?(this.v=t,this):new ns(t)}function c$(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ns?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function l$(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function lT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const dT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function hT(t){return Te(t?.then)}function fT(t){return Te(t[bg])}function pT(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function gT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mT=function h$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yT(t){return Te(t?.[mT])}function _T(t){return c$(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ns(n.read());if(i)return yield ns(void 0);yield yield ns(r)}}finally{n.releaseLock()}})}function vT(t){return Te(t?.getReader)}function Qn(t){if(t instanceof Oe)return t;if(null!=t){if(fT(t))return function f$(t){return new Oe(e=>{const n=t[bg]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(dT(t))return function p$(t){return new Oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(hT(t))return function g$(t){return new Oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,eT)})}(t);if(pT(t))return wT(t);if(yT(t))return function m$(t){return new Oe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(vT(t))return function y$(t){return wT(_T(t))}(t)}throw gT(t)}function wT(t){return new Oe(e=>{(function _$(t,e){var n,r,i,s;return function a$(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=l$(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Pr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Tt(t,e,n=1/0){return Te(e)?Tt((r,i)=>te((s,o)=>e(r,s,i,o))(Qn(t(r,i))),n):("number"==typeof e&&(n=e),_t((r,i)=>function v$(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Qn(n(m,l++)).subscribe(ut(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Pr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function fo(t=1/0){return Tt(ts,t)}const lr=new Oe(t=>t.complete());function Tg(t){return t[t.length-1]}function IT(t){return Te(Tg(t))?t.pop():void 0}function pu(t){return function I$(t){return t&&Te(t.schedule)}(Tg(t))?t.pop():void 0}function od(t,e=0){return _t((n,r)=>{n.subscribe(ut(r,i=>Pr(r,t,()=>r.next(i),e),()=>Pr(r,t,()=>r.complete(),e),i=>Pr(r,t,()=>r.error(i),e)))})}function ad(t,e=0){return _t((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ET(t,e){if(!t)throw new Error("Iterable cannot be null");return new Oe(n=>{Pr(n,e,()=>{const r=t[Symbol.asyncIterator]();Pr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nt(t,e){return e?function A$(t,e){if(null!=t){if(fT(t))return function D$(t,e){return Qn(t).pipe(ad(e),od(e))}(t,e);if(dT(t))return function C$(t,e){return new Oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(hT(t))return function b$(t,e){return Qn(t).pipe(ad(e),od(e))}(t,e);if(pT(t))return ET(t,e);if(yT(t))return function T$(t,e){return new Oe(n=>{let r;return Pr(n,e,()=>{r=t[mT](),Pr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}(t,e);if(vT(t))return function S$(t,e){return ET(_T(t),e)}(t,e)}throw gT(t)}(t,e):Qn(t)}function Sg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new fu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function Ag(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const R$=Ce({__forward_ref__:Ce});function Ae(t){return t.__forward_ref__=Ae,t.toString=function(){return Se(this())},t}function q(t){return Mg(t)?t():t}function Mg(t){return"function"==typeof t&&t.hasOwnProperty(R$)&&t.__forward_ref__===Ae}function Rg(t){return t&&!!t.\u0275providers}const DT="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function ud(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function cd(t,e){throw new S(-201,!1)}function Ln(t,e){null==t&&function ve(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function St(t){return{providers:t.providers||[],imports:t.imports||[]}}function ld(t){return bT(t,dd)||bT(t,TT)}function bT(t,e){return t.hasOwnProperty(e)?t[e]:null}function CT(t){return t&&(t.hasOwnProperty(kg)||t.hasOwnProperty(B$))?t[kg]:null}const dd=Ce({\u0275prov:Ce}),kg=Ce({\u0275inj:Ce}),TT=Ce({ngInjectableDef:Ce}),B$=Ce({ngInjectorDef:Ce});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let Ng;function Vn(t){const e=Ng;return Ng=t,e}function ST(t,e,n){const r=ld(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void cd(Se(t))}const xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gu={},Og="__NG_DI_FLAG__",hd="ngTempTokenPath",H$=/\n/gm,AT="__source";let mu;function po(t){const e=mu;return mu=t,e}function q$(t,e=z.Default){if(void 0===mu)throw new S(-203,!1);return null===mu?ST(t,void 0,e):mu.get(t,e&z.Optional?null:void 0,e)}function U(t,e=z.Default){return(function $$(){return Ng}()||q$)(q(t),e)}function he(t,e=z.Default){return U(t,fd(e))}function fd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Pg(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=z$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function yu(t,e){return t[Og]=e,t.prototype[Og]=e,t}function z$(t){return t[Og]}function wi(t){return{toString:t}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),dr=(()=>{return(t=dr||(dr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",dr;var t})();const Fr={},ye=[],pd=Ce({\u0275cmp:Ce}),Fg=Ce({\u0275dir:Ce}),Lg=Ce({\u0275pipe:Ce}),MT=Ce({\u0275mod:Ce}),Lr=Ce({\u0275fac:Ce}),_u=Ce({__NG_ELEMENT_ID__:Ce});let Q$=0;function Vr(t){return wi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ye,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||dr.Emulated,id:"c"+Q$++,styles:t.styles||ye,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=NT(t.inputs,r),i.outputs=NT(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(RT).filter(kT):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Jt).filter(kT):null,i})}function RT(t){return we(t)||jt(t)}function kT(t){return null!==t}function $t(t){return wi(()=>({type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function NT(t,e){if(null==t)return Fr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const K=Vr;function we(t){return t[pd]||null}function jt(t){return t[Fg]||null}function Jt(t){return t[Lg]||null}function Tn(t,e){const n=t[MT]||null;if(!n&&!0===e)throw new Error(`Type ${Se(t)} does not have '\u0275mod' property.`);return n}function Sn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Xn(t){return Array.isArray(t)&&!0===t[1]}function Bg(t){return 0!=(4&t.flags)}function Eu(t){return t.componentOffset>-1}function vd(t){return 1==(1&t.flags)}function Jn(t){return null!==t.template}function X$(t){return 0!=(256&t[2])}function is(t,e){return t.hasOwnProperty(Lr)?t[Lr]:null}class tj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Un(){return UT}function UT(t){return t.type.prototype.ngOnChanges&&(t.setInput=rj),nj}function nj(){const t=$T(this),e=t?.current;if(e){const n=t.previous;if(n===Fr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rj(t,e,n,r){const i=this.declaredInputs[n],s=$T(t)||function ij(t,e){return t[BT]=e}(t,{previous:Fr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new tj(u&&u.currentValue,e,a===Fr),t[r]=e}Un.ngInherit=!0;const BT="__ngSimpleChanges__";function $T(t){return t[BT]||null}function At(t){for(;Array.isArray(t);)t=t[0];return t}function wd(t,e){return At(e[t])}function An(t,e){return At(e[t.index])}function GT(t,e){return t.data[e]}function xn(t,e){const n=e[t];return Sn(n)?n:n[0]}function Id(t){return 64==(64&t[2])}function Ii(t,e){return null==e?null:t[e]}function qT(t){t[18]=0}function jg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const X={lFrame:tS(null),bindingsEnabled:!0};function WT(){return X.bindingsEnabled}function E(){return X.lFrame.lView}function fe(){return X.lFrame.tView}function Hg(t){return X.lFrame.contextLView=t,t[8]}function Gg(t){return X.lFrame.contextLView=null,t}function xt(){let t=KT();for(;null!==t&&64===t.type;)t=t.parent;return t}function KT(){return X.lFrame.currentTNode}function fr(t,e){const n=X.lFrame;n.currentTNode=t,n.isParent=e}function qg(){return X.lFrame.isParent}function Io(){return X.lFrame.bindingIndex++}function yj(t,e){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wg(e)}function Wg(t){X.lFrame.currentDirectiveIndex=t}function XT(){return X.lFrame.currentQueryIndex}function Qg(t){X.lFrame.currentQueryIndex=t}function vj(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function JT(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=vj(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=X.lFrame=eS();return r.currentTNode=e,r.lView=t,!0}function Yg(t){const e=eS(),n=t[1];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function eS(){const t=X.lFrame,e=null===t?null:t.child;return null===e?tS(t):e}function tS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function nS(){const t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const rS=nS;function Zg(){const t=nS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nn(){return X.lFrame.selectedIndex}function ss(t){X.lFrame.selectedIndex=t}function Ue(){const t=X.lFrame;return GT(t.tView,t.selectedIndex)}function Ed(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Dd(t,e,n){iS(t,e,3,n)}function bd(t,e,n,r){(3&t[2])===n&&iS(t,e,n,r)}function Xg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function iS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(Aj(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Aj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class bu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function em(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];oS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function sS(t){return 3===t||4===t||6===t}function oS(t){return 64===t.charCodeAt(0)}function Cu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||aS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function aS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function uS(t){return-1!==t}function Cd(t){return 32767&t}function Td(t,e){let n=function kj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let tm=!0;function Sd(t){const e=tm;return tm=t,e}let Nj=0;const pr={};function Ad(t,e){const n=dS(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,nm(r.data,t),nm(e,null),nm(r.blueprint,null));const i=rm(t,e),s=t.injectorIndex;if(uS(i)){const o=Cd(i),a=Td(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function nm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function rm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=_S(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function im(t,e,n){!function Oj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(_u)&&(r=n[_u]),null==r&&(r=n[_u]=Nj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function hS(t,e,n){if(n&z.Optional||void 0!==t)return t;cd()}function fS(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[9],s=Vn(void 0);try{return i?i.get(e,r,n&z.Optional):ST(e,r,n&z.Optional)}finally{Vn(s)}}return hS(r,0,n)}function pS(t,e,n,r=z.Default,i){if(null!==t){if(1024&e[2]){const o=function Uj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=gS(s,o,n,r|z.Self,pr);if(a!==pr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,pr,r);if(l!==pr)return l}u=_S(o),o=o[15]}s=u}return i}(t,e,n,r,pr);if(o!==pr)return o}const s=gS(t,e,n,r,pr);if(s!==pr)return s}return fS(e,n,r,i)}function gS(t,e,n,r,i){const s=function Lj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(_u)?t[_u]:void 0;return"number"==typeof e?e>=0?255&e:Vj:e}(n);if("function"==typeof s){if(!JT(e,t,r))return r&z.Host?hS(i,0,r):fS(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;cd()}finally{rS()}}else if("number"==typeof s){let o=null,a=dS(t,e),u=-1,c=r&z.Host?e[16][6]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?rm(t,e):e[a+8],-1!==u&&yS(r,!1)?(o=e[1],a=Cd(u),e=Td(u,e)):a=-1);-1!==a;){const l=e[1];if(mS(s,a,l.data)){const d=Fj(a,e,n,o,r,c);if(d!==pr)return d}u=e[a+8],-1!==u&&yS(r,e[1].data[a+8]===c)&&mS(s,a,e)?(o=l,a=Cd(u),e=Td(u,e)):a=-1}}return i}function Fj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=xd(a,o,n,null==r?Eu(a)&&tm:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?os(e,o,l,a):pr}function xd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Jn(f)&&f.type===n)return u}return null}function os(t,e,n,r){let i=t[n];const s=e.data;if(function xj(t){return t instanceof bu}(i)){const o=i;o.resolving&&function k$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=Sd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Vn(o.injectImpl):null;JT(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Sj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=UT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Vn(u),Sd(a),o.resolving=!1,rS()}}return i}function mS(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function yS(t,e){return!(t&z.Self||t&z.Host&&e)}class Do{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return pS(this._tNode,this._lView,e,fd(r),n)}}function Vj(){return new Do(xt(),E())}function Mt(t){return wi(()=>{const e=t.prototype.constructor,n=e[Lr]||sm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Lr]||sm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function sm(t){return Mg(t)?()=>{const e=sm(q(t));return e&&e()}:is(t)}function _S(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const Co="__parameters__";function So(t,e,n){return wi(()=>{const r=function om(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Co)?u[Co]:Object.defineProperty(u,Co,{value:[]})[Co];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function as(t,e){t.forEach(n=>Array.isArray(n)?as(n,e):e(n))}function wS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Mn(t,e,n){let r=Ao(t,e);return r>=0?t[1|r]=n:(r=~r,function Hj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function um(t,e){const n=Ao(t,e);if(n>=0)return t[1|n]}function Ao(t,e){return function IS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const qt=yu(So("Optional"),8),xu=yu(So("SkipSelf"),4);var fn=(()=>((fn=fn||{})[fn.Important=1]="Important",fn[fn.DashCase=2]="DashCase",fn))();const pm=new Map;let dH=0;const mm="__ngContext__";function zt(t,e){Sn(e)?(t[mm]=e[20],function fH(t){pm.set(t[20],t)}(e)):t[mm]=e}function _m(t,e){return undefined(t,e)}function Nu(t){const e=t[3];return Xn(e)?e[3]:e}function vm(t){return $S(t[13])}function wm(t){return $S(t[4])}function $S(t){for(;null!==t&&!Xn(t);)t=t[4];return t}function Mo(t,e,n,r,i){if(null!=r){let s,o=!1;Xn(r)?s=r:Sn(r)&&(o=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?WS(e,n,a):us(e,n,a,i||null,!0):1===t&&null!==n?us(e,n,a,i||null,!0):2===t?function Sm(t,e,n){const r=Pd(t,e);r&&function NH(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function FH(t,e,n,r,i){const s=n[7];s!==At(n)&&Mo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Ou(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Em(t,e,n){return t.createElement(e,n)}function HS(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,jg(i,-1)),n.splice(r,1)}function Dm(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&HS(i,r),e>0&&(t[n-1][4]=r[4]);const s=Rd(t,10+e);!function CH(t,e){Ou(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function GS(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Ou(t,e,n,3,null,null),function AH(t){let e=t[13];if(!e)return bm(t[1],t);for(;e;){let n=null;if(Sn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Sn(e)&&bm(e[1],e),e=e[3];null===e&&(e=t),Sn(e)&&bm(e[1],e),n=e&&e[4]}e=n}}(e)}}function bm(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function kH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof bu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function RH(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Xn(e[3])){n!==e[3]&&HS(n,e);const r=e[19];null!==r&&r.detachView(t)}!function pH(t){pm.delete(t[20])}(e)}}function qS(t,e,n){return function zS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===dr.None||s===dr.Emulated)return null}return An(r,n)}}(t,e.parent,n)}function us(t,e,n,r,i){t.insertBefore(e,n,r,i)}function WS(t,e,n){t.appendChild(e,n)}function KS(t,e,n,r,i){null!==r?us(t,e,n,r,i):WS(t,e,n)}function Pd(t,e){return t.parentNode(e)}let Mm,Ud,ZS=function YS(t,e,n){return 40&t.type?An(t,n):null};function Fd(t,e,n,r){const i=qS(t,r,e),s=e[11],a=function QS(t,e,n){return ZS(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)KS(s,i,n[u],a,!1);else KS(s,i,n,a,!1)}function Ld(t,e){if(null!==e){const n=e.type;if(3&n)return An(e,t);if(4&n)return Tm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ld(t,r);{const i=t[e.index];return Xn(i)?Tm(-1,i):At(i)}}if(32&n)return _m(e,t)()||At(t[e.index]);{const r=JS(t,e);return null!==r?Array.isArray(r)?r[0]:Ld(Nu(t[16]),r):Ld(t,e.next)}}return null}function JS(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Tm(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Ld(r,i)}return e[7]}function Am(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&zt(At(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Am(t,e,n.child,r,i,s,!1),Mo(e,t,i,a,s);else if(32&u){const c=_m(n,r);let l;for(;l=c();)Mo(e,t,i,l,s);Mo(e,t,i,a,s)}else 16&u?eA(t,e,r,n,i,s):Mo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ou(t,e,n,r,i,s){Am(n,r,t.firstChild,e,i,s,!1)}function eA(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Mo(e,t,i,u[c],s);else Am(t,e,u,o[3],i,s,!0)}function tA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&em(t,e,r),null!==i&&tA(t,e,i),null!==s&&function VH(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function oA(t){return function Rm(){if(void 0===Ud&&(Ud=null,xe.trustedTypes))try{Ud=xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ud}()?.createScriptURL(t)||t}class aA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${DT})`}}function Ei(t){return t instanceof aA?t.changingThisBreaksApplicationSecurity:t}function Pu(t,e){const n=function KH(t){return t instanceof aA&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${DT})`)}return n===e}const XH=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var rt=(()=>((rt=rt||{})[rt.NONE=0]="NONE",rt[rt.HTML=1]="HTML",rt[rt.STYLE=2]="STYLE",rt[rt.SCRIPT=3]="SCRIPT",rt[rt.URL=4]="URL",rt[rt.RESOURCE_URL=5]="RESOURCE_URL",rt))();function Fm(t){const e=Lu();return e?e.sanitize(rt.URL,t)||"":Pu(t,"URL")?Ei(t):function km(t){return(t=String(t)).match(XH)?t:"unsafe:"+t}(Z(t))}function pA(t){const e=Lu();if(e)return oA(e.sanitize(rt.RESOURCE_URL,t)||"");if(Pu(t,"ResourceURL"))return oA(Ei(t));throw new S(904,!1)}function Lu(){const t=E();return t&&t[12]}const $d=new L("ENVIRONMENT_INITIALIZER"),mA=new L("INJECTOR",-1),yA=new L("INJECTOR_DEF_TYPES");class _A{get(e,n=gu){if(n===gu){const r=new Error(`NullInjectorError: No provider for ${Se(e)}!`);throw r.name="NullInjectorError",r}return n}}function dG(...t){return{\u0275providers:vA(0,t),\u0275fromNgModule:!0}}function vA(t,...e){const n=[],r=new Set;let i;return as(e,s=>{const o=s;Lm(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&wA(i,n),n}function wA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Vm(i,s=>{e.push(s)})}}function Lm(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=CT(t);const o=!s&&we(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=CT(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Lm(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{as(s.imports,l=>{Lm(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&wA(c,e)}if(!a){const c=is(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ye},{provide:yA,useValue:i,multi:!0},{provide:$d,useValue:()=>U(i),multi:!0})}const u=s.providers;null==u||a||Vm(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Vm(t,e){for(let n of t)Rg(n)&&(n=n.\u0275providers),Array.isArray(n)?Vm(n,e):e(n)}const hG=Ce({provide:String,useValue:Ce});function Um(t){return null!==t&&"object"==typeof t&&hG in t}function ls(t){return"function"==typeof t}const Bm=new L("Set Injector scope."),jd={},pG={};let $m;function Hd(){return void 0===$m&&($m=new _A),$m}class Hr{}class DA extends Hr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hm(e,o=>this.processProvider(o)),this.records.set(mA,Ro(void 0,this)),i.has("environment")&&this.records.set(Hr,Ro(void 0,this));const s=this.records.get(Bm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yA.multi,ye,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=po(this),r=Vn(void 0);try{return e()}finally{po(n),Vn(r)}}get(e,n=gu,r=z.Default){this.assertNotDestroyed(),r=fd(r);const i=po(this),s=Vn(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function vG(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&ld(e);a=u&&this.injectableDefInScope(u)?Ro(jm(e),jd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?Hd():this.parent).get(e,n=r&z.Optional&&n===gu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[hd]=o[hd]||[]).unshift(Se(e)),i)throw o;return function W$(t,e,n,r){const i=t[hd];throw e[AT]&&i.unshift(e[AT]),t.message=function K$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Se(e);if(Array.isArray(e))i=e.map(Se).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Se(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(H$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[hd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Vn(s),po(i)}}resolveInjectorInitializers(){const e=po(this),n=Vn(void 0);try{const r=this.get($d.multi,ye,z.Self);for(const i of r)i()}finally{po(e),Vn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Se(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=ls(e=q(e))?e:q(e&&e.provide);const r=function mG(t){return Um(t)?Ro(void 0,t.useValue):Ro(bA(t),jd)}(e);if(ls(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ro(void 0,jd,!0),i.factory=()=>Pg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===jd&&(n.value=pG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _G(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function jm(t){const e=ld(t),n=null!==e?e.factory:is(t);if(null!==n)return n;if(t instanceof L)throw new S(204,!1);if(t instanceof Function)return function gG(t){const e=t.length;if(e>0)throw function Au(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function V$(t){const e=t&&(t[dd]||t[TT]);if(e){const n=function U$(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function bA(t,e,n){let r;if(ls(t)){const i=q(t);return is(i)||jm(i)}if(Um(t))r=()=>q(t.useValue);else if(function EA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Pg(t.deps||[]));else if(function IA(t){return!(!t||!t.useExisting)}(t))r=()=>U(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function yG(t){return!!t.deps}(t))return is(i)||jm(i);r=()=>new i(...Pg(t.deps))}return r}function Ro(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Hm(t,e){for(const n of t)Array.isArray(n)?Hm(n,e):n&&Rg(n)?Hm(n.\u0275providers,e):e(n)}class wG{}class CA{}class EG{resolveComponentFactory(e){throw function IG(t){const e=Error(`No component factory found for ${Se(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Vu=(()=>{class t{}return t.NULL=new EG,t})();function DG(){return ko(xt(),E())}function ko(t,e){return new Rn(An(t,e))}let Rn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=DG,t})();function bG(t){return t instanceof Rn?t.nativeElement:t}class SA{}let Gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function CG(){const t=E(),n=xn(xt().index,t);return(Sn(n)?n:t)[11]}(),t})(),TG=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class No{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AA=new No("15.1.1"),Gm={};function zm(t){return t.ngOriginalError}class Oo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zm(e);for(;n&&zm(n);)n=zm(n);return n||null}}function qr(t){return t instanceof Function?t():t}function MA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const RA="ng-template";function LG(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==MA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function kA(t){return 4===t.type&&t.value!==RA}function VG(t,e,n){return e===(4!==t.type||n?t.value:RA)}function UG(t,e,n){let r=4;const i=t.attrs||[],s=function jG(t){for(let e=0;e<t.length;e++)if(sS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!VG(t,u,n)||""===u&&1===e.length){if(er(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!LG(t.attrs,c,n)){if(er(r))return!1;o=!0}continue}const d=BG(8&r?"class":u,i,kA(t),n);if(-1===d){if(er(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==MA(f,c,0)||2&r&&c!==h){if(er(r))return!1;o=!0}}}}else{if(!o&&!er(r)&&!er(u))return!1;if(o&&er(u))continue;o=!1,r=u|1&r}}return er(r)||o}function er(t){return 0==(1&t)}function BG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function HG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function NA(t,e,n=!1){for(let r=0;r<e.length;r++)if(UG(t,e[r],n))return!0;return!1}function OA(t,e){return t?":not("+e.trim()+")":e}function qG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!er(o)&&(e+=OA(s,i),i=""),r=o,s=s||!er(r);n++}return""!==i&&(e+=OA(s,i)),e}const J={};function tr(t){PA(fe(),E(),nn()+t,!1)}function PA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Dd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&bd(e,s,0,n)}ss(n)}function UA(t,e=null,n=null,r){const i=BA(t,e,n,r);return i.resolveInjectorInitializers(),i}function BA(t,e=null,n=null,r,i=new Set){const s=[n||ye,dG(t)];return r=r||("object"==typeof t?void 0:Se(t)),new DA(s,e||Hd(),r||null,i)}let gn=(()=>{class t{static create(n,r){if(Array.isArray(n))return UA({name:""},r,n,"");{const i=n.name??"";return UA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=gu,t.NULL=new _A,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>U(mA)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=z.Default){const n=E();return null===n?U(t,e):pS(xt(),n,q(t),e)}function KA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Qg(n[r]),o.contentQueries(2,e[s],s)}}}function qd(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),qT(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function hH(){return dH++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function Lo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Zm(t,e,n,r,i){const s=KT(),o=qg(),u=t.data[e]=function yq(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function mj(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Du(){const t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return fr(s,!0),s}function Uu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xm(t,e,n){Yg(e);try{const r=t.viewQuery;null!==r&&uy(1,r,n);const i=t.template;null!==i&&QA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&KA(t,e),t.staticViewQueries&&uy(2,t.viewQuery,n);const s=t.components;null!==s&&function pq(t,e){for(let n=0;n<e.length;n++)Fq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Zg()}}function zd(t,e,n,r){const i=e[2];if(128!=(128&i)){Yg(e);try{qT(e),function YT(t){return X.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&QA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Dd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&bd(e,c,0,null),Xg(e,0)}if(function Oq(t){for(let e=vm(t);null!==e;e=wm(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||jg(i[3],1),i[2]|=512}}}(e),function Nq(t){for(let e=vm(t);null!==e;e=wm(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Id(r)&&zd(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&KA(t,e),o){const c=t.contentCheckHooks;null!==c&&Dd(e,c)}else{const c=t.contentHooks;null!==c&&bd(e,c,1),Xg(e,1)}!function hq(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ss(~i);else{const s=i,o=n[++r],a=n[++r];yj(o,s),a(2,e[s])}}}finally{ss(-1)}}(t,e);const a=t.components;null!==a&&function fq(t,e){for(let n=0;n<e.length;n++)Pq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&uy(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Dd(e,c)}else{const c=t.viewHooks;null!==c&&bd(e,c,2),Xg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,jg(e[3],-1))}finally{Zg()}}}function QA(t,e,n,r,i){const s=nn(),o=2&r;try{ss(-1),o&&e.length>22&&PA(t,e,22,!1),n(r,i)}finally{ss(s)}}function Jm(t,e,n){if(Bg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function ey(t,e,n){WT()&&(function Dq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Eu(n)&&function Mq(t,e,n){const r=An(e,t),i=YA(n),s=t[10],o=Wd(t,qd(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ad(n,e),zt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=os(e,t,a,n);zt(c,e),null!==o&&Rq(0,a-i,c,u,0,o),Jn(u)&&(xn(n.index,e)[8]=os(e,t,a,n))}}(t,e,n,An(n,e)),64==(64&n.flags)&&nx(t,e,n))}function ty(t,e,n=An){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function YA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ny(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ny(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function gq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:J);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ZA(t,e,n,r){const i=ix(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&sx(t).push(r,i.length-1))}function XA(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?JA(n,e,i,s):r.hasOwnProperty(i)&&JA(n,e,r[i],s)}return n}function JA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function kn(t,e,n,r,i,s,o,a){const u=An(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(cy(t,n,l,r,i),Eu(e)&&ex(n,e.index)):3&e.type&&(r=function vq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function ex(t,e){const n=xn(e,t);16&n[2]||(n[2]|=32)}function ry(t,e,n,r){let i=!1;if(WT()){const s=null===r?null:{"":-1},o=function Cq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(NA(e,o.selectors,!1))if(r||(r=[]),Jn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),iy(t,e,a.length)}else r.unshift(o),iy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,tx(t,e,n,a,s,u)),s&&function Tq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,s)}return n.mergedAttrs=Cu(n.mergedAttrs,n.attrs),i}function tx(t,e,n,r,i,s){for(let c=0;c<r.length;c++)im(Ad(n,e),t,r[c].type);!function Aq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Uu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Cu(n.mergedAttrs,l.hostAttrs),xq(t,n,e,u,l),Sq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function _q(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=XA(d.inputs,l,u,h?h.inputs:null),c=XA(d.outputs,l,c,p);const m=null===u||null===o||kA(e)?null:kq(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function nx(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function _j(){return X.lFrame.currentDirectiveIndex}();try{ss(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Wg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&bq(u,c)}}finally{ss(-1),Wg(o)}}function bq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function iy(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function Sq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jn(e)&&(n[""]=t)}}function xq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=is(i.type)),o=new bu(s,Jn(i),D);t.blueprint[r]=o,n[r]=o,function Iq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Eq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Uu(t,n,i.hostVars,J),i)}function gr(t,e,n,r,i,s){const o=An(t,e);!function sy(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Z(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function Rq(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function kq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function rx(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function Pq(t,e){const n=xn(e,t);if(Id(n)){const r=n[1];48&n[2]?zd(r,n,r.template,n[8]):n[5]>0&&oy(n)}}function oy(t){for(let r=vm(t);null!==r;r=wm(r))for(let i=10;i<r.length;i++){const s=r[i];if(Id(s))if(512&s[2]){const o=s[1];zd(o,s,o.template,s[8])}else s[5]>0&&oy(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=xn(n[r],t);Id(i)&&i[5]>0&&oy(i)}}function Fq(t,e){const n=xn(e,t),r=n[1];(function Lq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Xm(r,n,n[8])}function Wd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ay(t){for(;t;){t[2]|=32;const e=Nu(t);if(X$(t)&&!e)return t;t=e}return null}function Kd(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{zd(t,e,t.template,n)}catch(o){throw r&&ax(e,o),o}finally{i.end&&i.end()}}function uy(t,e,n){Qg(0),e(t,n)}function ix(t){return t[7]||(t[7]=[])}function sx(t){return t.cleanup||(t.cleanup=[])}function ax(t,e){const n=t[9],r=n?n.get(Oo,null):null;r&&r.handleError(e)}function cy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Qd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=xg(i,a):2==s&&(r=xg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Yd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(At(s)),Xn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Yd(u[1],u,c,r)}const o=n.type;if(8&o)Yd(t,e,n.child,r);else if(32&o){const a=_m(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=JS(e,n);if(Array.isArray(a))r.push(...a);else{const u=Nu(e[16]);Yd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Bu{get rootNodes(){const e=this._lView,n=e[1];return Yd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Xn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Dm(e,r),Rd(n,r))}this._attachedToViewContainer=!1}GS(this._lView[1],this._lView)}onDestroy(e){ZA(this._lView[1],this._lView,null,e)}markForCheck(){ay(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Kd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function SH(t,e){Ou(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class Vq extends Bu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Kd(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class ux extends Vu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=we(e);return new $u(n,this.ngModule)}}function cx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Bq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=fd(r);const i=this.injector.get(e,Gm,r);return i!==Gm||n===Gm?i:this.parentInjector.get(e,n,r)}}class $u extends CA{get inputs(){return cx(this.componentDef.inputs)}get outputs(){return cx(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function zG(t){return t.map(qG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Hr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Bq(e,s):e,a=o.get(SA,null);if(null===a)throw new S(407,!1);const u=o.get(TG,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function mq(t,e,n){return t.selectRootElement(e,n===dr.ShadowDom)}(c,r,this.componentDef.encapsulation):Em(c,l,function Uq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=ny(0,null,null,1,0,null,null,null,null,null),p=qd(null,f,null,h,null,null,a,c,u,o,null);let m,y;Yg(p);try{const I=this.componentDef;let b,v=null;I.findHostDirectiveDefs?(b=[],v=new Map,I.findHostDirectiveDefs(I,b,v),b.push(I)):b=[I];const k=function jq(t,e){const n=t[1];return t[22]=e,Lo(n,22,2,"#host",null)}(p,d),V=function Hq(t,e,n,r,i,s,o,a){const u=i[1];!function Gq(t,e,n,r){for(const i of t)e.mergedAttrs=Cu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Qd(e,e.mergedAttrs,!0),null!==n&&nA(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=qd(i,YA(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&iy(u,t,r.length-1),Wd(i,l),i[t.index]=l}(k,d,I,b,p,a,c);y=GT(f,22),d&&function zq(t,e,n,r){if(r)em(t,n,["ng-version",AA.full]);else{const{attrs:i,classes:s}=function WG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!er(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&em(t,n,i),s&&s.length>0&&tA(t,n,s.join(" "))}}(c,I,d,r),void 0!==n&&function Wq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),m=function qq(t,e,n,r,i,s){const o=xt(),a=i[1],u=An(o,i);tx(a,i,o,n,null,r);for(let l=0;l<n.length;l++)zt(os(i,a,o.directiveStart+l,o),i);nx(a,i,o),u&&zt(u,i);const c=os(i,a,o.directiveStart+o.componentOffset,o);if(t[8]=i[8]=c,null!==s)for(const l of s)l(c,e);return Jm(a,o,t),c}(V,I,b,v,p,[Kq]),Xm(f,p,null)}finally{Zg()}return new $q(this.componentType,m,ko(y,p),p,y)}}class $q extends wG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Vq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;cy(s[1],s,i,e,n),ex(s,this._tNode.index)}}get injector(){return new Do(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Kq(){const t=xt();Ed(E()[1],t)}function Ie(t){let e=function lx(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=ly(t.inputs),o.declaredInputs=ly(t.declaredInputs),o.outputs=ly(t.outputs);const a=i.hostBindings;a&&Xq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Yq(t,u),c&&Zq(t,c),Ag(t.inputs,i.inputs),Ag(t.declaredInputs,i.declaredInputs),Ag(t.outputs,i.outputs),Jn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ie&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Qq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cu(i.hostAttrs,n=Cu(n,i.hostAttrs))}}(r)}function ly(t){return t===Fr?{}:t===ye?[]:t}function Yq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Zq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Xq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Zd=null;function ds(){if(!Zd){const t=xe.Symbol;if(t&&t.iterator)Zd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Zd=r)}}}return Zd}function Xd(t){return!!function dy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&ds()in t)}function Wt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function yr(t,e,n,r){const i=E();return Wt(i,Io(),e)&&(fe(),gr(Ue(),i,t,e,n,r)),yr}function Uo(t,e,n,r){return Wt(t,Io(),n)?e+Z(n)+r:J}function Hu(t,e,n,r,i,s,o,a){const u=E(),c=fe(),l=t+22,d=c.firstCreatePass?function uz(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Lo(e,t,4,o||null,Ii(c,a));ry(e,n,l,Ii(c,u)),Ed(e,l);const d=l.tViews=ny(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];fr(d,!1);const h=u[11].createComment("");Fd(c,u,h,d),zt(h,u),Wd(u,u[l]=rx(h,u,h,d)),vd(d)&&ey(c,u,d),null!=o&&ty(u,d,a)}function Wr(t,e,n){const r=E();return Wt(r,Io(),e)&&kn(fe(),Ue(),r,t,e,r[11],n,!1),Wr}function hy(t,e,n,r,i){const o=i?"class":"style";cy(t,n,e.inputs[o],o,r)}function oe(t,e,n,r){const i=E(),s=fe(),o=22+t,a=i[11],u=i[o]=Em(a,e,function Tj(){return X.lFrame.currentNamespace}()),c=s.firstCreatePass?function lz(t,e,n,r,i,s,o){const a=e.consts,c=Lo(e,t,2,i,Ii(a,s));return ry(e,n,c,Ii(a,o)),null!==c.attrs&&Qd(c,c.attrs,!1),null!==c.mergedAttrs&&Qd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];return fr(c,!0),nA(a,u,c),32!=(32&c.flags)&&Fd(s,i,u,c),0===function lj(){return X.lFrame.elementDepthCount}()&&zt(u,i),function dj(){X.lFrame.elementDepthCount++}(),vd(c)&&(ey(s,i,c),Jm(s,c,i)),null!==r&&ty(i,c),oe}function re(){let t=xt();qg()?function zg(){X.lFrame.isParent=!1}():(t=t.parent,fr(t,!1));const e=t;!function hj(){X.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(Ed(n,t),Bg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Mj(t){return 0!=(8&t.flags)}(e)&&hy(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Rj(t){return 0!=(16&t.flags)}(e)&&hy(n,e,E(),e.stylesWithoutHost,!1),re}function Hn(t,e,n,r){return oe(t,e,n,r),re(),Hn}function gy(){return E()}function Gu(t){return!!t&&"function"==typeof t.then}const my=function Cx(t){return!!t&&"function"==typeof t.subscribe};function vt(t,e,n,r){const i=E(),s=fe(),o=xt();return function Sx(t,e,n,r,i,s,o){const a=vd(r),c=t.firstCreatePass&&sx(t),l=e[8],d=ix(e);let h=!0;if(3&r.type||o){const m=An(r,e),y=o?o(m):m,I=d.length,b=o?k=>o(At(k[r.index])):r.index;let v=null;if(!o&&a&&(v=function hz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=xx(r,e,l,s,!1);const k=n.listen(y,i,s);d.push(s,k),c&&c.push(i,b,I,I+1)}}else s=xx(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),$=d.length;d.push(s,V),c&&c.push(i,r.index,$,-($+1))}}}(s,i,i[11],o,t,e,r),vt}function Ax(t,e,n,r){try{return!1!==n(r)}catch(i){return ax(t,i),!1}}function xx(t,e,n,r,i){return function s(o){if(o===Function)return r;ay(t.componentOffset>-1?xn(t.index,e):e);let u=Ax(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=Ax(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function yy(t=1){return function wj(t){return(X.lFrame.contextLView=function Ij(t,e){for(;t>0;)e=e[15],t--;return e}(t,X.lFrame.contextLView))[8]}(t)}function _y(t,e,n){return vy(t,"",e,"",n),_y}function vy(t,e,n,r,i){const s=E(),o=Uo(s,e,n,r);return o!==J&&kn(fe(),Ue(),s,t,o,s[11],i,!1),vy}function eh(t,e){return t<<17|e<<2}function Di(t){return t>>17&32767}function wy(t){return 2|t}function fs(t){return(131068&t)>>2}function Iy(t,e){return-131069&t|e<<2}function Ey(t){return 1|t}function Vx(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Di(s):fs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Iz(t[a],e)&&(u=!0,t[a+1]=r?Ey(l):wy(l)),a=r?Di(l):fs(l)}u&&(t[n+1]=r?wy(s):Ey(s))}function Iz(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ao(t,e)>=0}function th(t,e){return function nr(t,e,n,r){const i=E(),s=fe(),o=function $r(t){const e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Wx(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[nn()],o=function zx(t,e){return e>=t.expandoStartIndex}(t,n);(function Zx(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Mz(t,e,n,r){const i=function Kg(t){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=qu(n=Dy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Dy(i,t,e,n,r),null===s){let u=function Rz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==fs(r))return t[Di(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Dy(null,t,e,u[1],r),u=qu(u,e.attrs,r),function kz(t,e,n,r){t[Di(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Nz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=qu(r,t[s].hostAttrs,n);return qu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function vz(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Di(o),u=fs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ao(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Di(t[a+1]);t[r+1]=eh(h,a),0!==h&&(t[h+1]=Iy(t[h+1],r)),t[a+1]=function yz(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=eh(a,0),0!==a&&(t[a+1]=Iy(t[a+1],r)),a=r;else t[r+1]=eh(u,0),0===a?a=r:t[u+1]=Iy(t[u+1],r),u=r;c&&(t[r+1]=wy(t[r+1])),Vx(t,l,r,!0),Vx(t,l,r,!1),function wz(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ao(s,e)>=0&&(n[r+1]=Ey(n[r+1]))}(e,l,t,r,s),o=eh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==J&&Wt(i,o,e)&&function Qx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function _z(t){return 1==(1&t)}(c)?Yx(u,e,n,i,fs(c),o):void 0;nh(l)||(nh(s)||function mz(t){return 2==(2&t)}(c)&&(s=Yx(u,null,n,i,a,o)),function LH(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:fn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=fn.Important),t.setStyle(n,r,i,s))}}(r,o,wd(nn(),n),i,s))}(s,s.data[nn()],i,i[11],t,i[o+1]=function Fz(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Se(Ei(t)))),t}(e,n),r,o)}(t,e,null,!0),th}function Dy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=qu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function qu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Yx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===J&&(h=d?ye:void 0);let f=d?um(h,r):l===r?h:void 0;if(c&&!nh(f)&&(f=um(u,r)),nh(f)&&(a=f,o))return a;const p=t[i+1];i=o?Di(p):fs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=um(u,r))}return a}function nh(t){return void 0!==t}function De(t,e=""){const n=E(),r=fe(),i=t+22,s=r.firstCreatePass?Lo(r,i,1,e,null):r.data[i],o=n[i]=function Im(t,e){return t.createText(e)}(n[11],e);Fd(r,n,o,s),fr(s,!1)}function by(t){return rh("",t,""),by}function rh(t,e,n){const r=E(),i=Uo(r,t,e,n);return i!==J&&function zr(t,e,n){const r=wd(e,t);!function jS(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,nn(),i),rh}const Qo="en-US";let vM=Qo;function Sy(t,e,n,r,i){if(t=q(t),Array.isArray(t))for(let s=0;s<t.length;s++)Sy(t[s],e,n,r,i);else{const s=fe(),o=E();let a=ls(t)?t:q(t.provide),u=bA(t);const c=xt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ls(t)||!t.multi){const f=new bu(u,i,D),p=xy(a,e,i?l:l+h,d);-1===p?(im(Ad(c,o),s,a),Ay(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=xy(a,e,l+h,d),p=xy(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){im(Ad(c,o),s,a);const I=function e3(t,e,n,r,i){const s=new bu(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,GM(s,i,r&&!n),s}(i?JW:XW,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),Ay(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else Ay(s,t,f>-1?f:p,GM(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Ay(t,e,n,r){const i=ls(e),s=function fG(t){return!!t.useClass}(e);if(i||s){const u=(s?q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function GM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function XW(t,e,n,r){return My(this.multi,[])}function JW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=os(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),My(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],My(i,s);return s}function My(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Pe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function ZW(t,e,n){const r=fe();if(r.firstCreatePass){const i=Jn(t);Sy(n,r.data,r.blueprint,i,!0),Sy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Yo{}class qM{}class zM extends Yo{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ux(this);const r=Tn(e);this._bootstrapComponents=qr(r.bootstrap),this._r3Injector=BA(e,n,[{provide:Yo,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],Se(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ry extends qM{constructor(e){super(),this.moduleType=e}create(e){return new zM(this.moduleType,e)}}class n3 extends Yo{constructor(e,n,r){super(),this.componentFactoryResolver=new ux(this),this.instance=null;const i=new DA([...e,{provide:Yo,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],n||Hd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function uh(t,e,n=null){return new n3(t,e,n).injector}let r3=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=vA(0,n.type),i=r.length>0?uh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(U(Hr))}),t})();function WM(t){t.getStandaloneInjector=e=>e.get(r3).getOrCreateStandaloneInjector(t)}function eR(t,e,n){const r=function tn(){const t=X.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=E();return i[r]===J?function mr(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function ju(t,e){return t[e]}(i,r)}function Ny(t){return e=>{setTimeout(t,void 0,e)}}const Ge=class A3 extends Or{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Ny(s),i&&(i=Ny(i)),o&&(o=Ny(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof bn&&e.add(a),a}};function x3(){return this._results[ds()]()}class Oy{get changes(){return this._changes||(this._changes=new Ge)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ds(),r=Oy.prototype;r[n]||(r[n]=x3)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function $n(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function $j(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kr=(()=>{class t{}return t.__NG_ELEMENT_ID__=k3,t})();const M3=Kr,R3=class extends M3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=qd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Xm(r,i,e),new Bu(i)}};function k3(){return ch(xt(),E())}function ch(t,e){return 4&t.type?new R3(e,t,ko(t,e)):null}let ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=N3,t})();function N3(){return uR(xt(),E())}const O3=ir,oR=class extends O3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ko(this._hostTNode,this._hostLView)}get injector(){return new Do(this._hostTNode,this._hostLView)}get parentInjector(){const e=rm(this._hostTNode,this._hostLView);if(uS(e)){const n=Td(e,this._hostLView),r=Cd(e);return new Do(n[1].data[r+8],n)}return new Do(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=aR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Su(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new $u(we(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Hr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function cj(t){return Xn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new oR(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function xH(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],wS(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function MH(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=Tm(s,o),u=r[11],c=Pd(u,o[7]);return null!==c&&function TH(t,e,n,r,i,s){r[0]=i,r[6]=e,Ou(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),wS(Py(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=aR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Dm(this._lContainer,n);r&&(Rd(Py(this._lContainer),n),GS(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Dm(this._lContainer,n);return r&&null!=Rd(Py(this._lContainer),n)?new Bu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function aR(t){return t[8]}function Py(t){return t[8]||(t[8]=[])}function uR(t,e){let n;const r=e[t.index];if(Xn(r))n=r;else{let i;if(8&t.type)i=At(r);else{const s=e[11];i=s.createComment("");const o=An(t,e);us(s,Pd(s,o),i,function OH(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=rx(r,e,i,t),Wd(e,n)}return new oR(n,t,e)}class Fy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Fy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ly{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ly(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==mR(e,n).matches&&this.queries[n].setDirty()}}class cR{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Vy{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Vy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Uy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Uy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,P3(n,s)),this.matchTNodeWithReadOption(e,n,xd(n,e,s,!1,!1))}else r===Kr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,xd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Rn||i===ir||i===Kr&&4&n.type)this.addMatch(n.index,-2);else{const s=xd(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function P3(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function L3(t,e,n,r){return-1===n?function F3(t,e){return 11&t.type?ko(t,e):4&t.type?ch(t,e):null}(e,t):-2===n?function V3(t,e,n){return n===Rn?ko(e,t):n===Kr?ch(e,t):n===ir?uR(e,t):void 0}(t,e,r):os(t,t[1],n,e)}function lR(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:L3(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function By(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=lR(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&By(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];By(f[1],f,c,r)}}}}}return r}function dR(t){const e=E(),n=fe(),r=XT();Qg(r+1);const i=mR(n,r);if(t.dirty&&function uj(t){return 4==(4&t[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?By(n,e,r,[]):lR(n,e,i,r);t.reset(s,bG),t.notifyOnChanges()}return!0}return!1}function hR(t,e,n,r){const i=fe();if(i.firstCreatePass){const s=xt();(function gR(t,e,n){null===t.queries&&(t.queries=new Vy),t.queries.track(new Uy(e,n))})(i,new cR(e,n,r),s.index),function $3(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function pR(t,e,n){const r=new Oy(4==(4&n));ZA(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ly),e[19].queries.push(new Fy(r))}(i,E(),n)}function mR(t,e){return t.queries.getByIndex(e)}function yR(t,e){return ch(t,e)}function dh(...t){}const hh=new L("Application Initializer");let fh=(()=>{class t{constructor(n){this.appInits=n,this.resolve=dh,this.reject=dh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Gu(s))n.push(s);else if(my(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(U(hh,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ec=new L("AppId",{providedIn:"root",factory:function FR(){return`${qy()}${qy()}${qy()}`}});function qy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const LR=new L("Platform Initializer"),ph=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),VR=new L("appBootstrapListener");let a4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Qr=new L("LocaleId",{providedIn:"root",factory:()=>he(Qr,z.Optional|z.SkipSelf)||function u4(){return typeof $localize<"u"&&$localize.locale||Qo}()});class l4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let UR=(()=>{class t{compileModuleSync(n){return new Ry(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=qr(Tn(n).declarations).reduce((o,a)=>{const u=we(a);return u&&o.push(new $u(u)),o},[]);return new l4(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const f4=(()=>Promise.resolve(0))();function zy(t){typeof Zone>"u"?f4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function p4(){let t=xe.requestAnimationFrame,e=xe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function y4(t){const e=()=>{!function m4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ky(t),t.isCheckStableRunning=!0,Wy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ky(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return jR(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),HR(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return jR(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),HR(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ky(t),Wy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,g4,dh,dh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const g4={};function Wy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ky(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function jR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function HR(t){t._nesting--,Wy(t)}class _4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const GR=new L(""),gh=new L("");let Zy,Qy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zy||(function v4(t){Zy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fe.assertNotInAngularZone(),zy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(U(Fe),U(Yy),U(gh))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Yy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Zy?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),bi=null;const qR=new L("AllowMultipleToken"),Xy=new L("PlatformDestroyListeners");class zR{constructor(e,n){this.name=e,this.token=n}}function KR(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=Jy();if(!o||o.injector.get(qR,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function E4(t){if(bi&&!bi.get(qR,!1))throw new S(400,!1);bi=t;const e=t.get(YR);(function WR(t){const e=t.get(LR,null);e&&e.forEach(n=>n())})(t)}(function QR(t=[],e){return gn.create({name:e,providers:[{provide:Bm,useValue:"platform"},{provide:Xy,useValue:new Set([()=>bi=null])},...t]})}(a,r))}return function b4(t){const e=Jy();if(!e)throw new S(401,!1);return e}()}}function Jy(){return bi?.get(YR)??null}let YR=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function XR(t,e){let n;return n="noop"===t?new _4:("zone.js"===t?void 0:t)||new Fe(e),n}(r?.ngZone,function ZR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Fe,useValue:i}];return i.run(()=>{const o=gn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(Oo,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{yh(this._modules,a),c.unsubscribe()})}),function JR(t,e,n){try{const r=n();return Gu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(fh);return c.runInitializers(),c.donePromise.then(()=>(function wM(t){Ln(t,"Expected localeId to be defined"),"string"==typeof t&&(vM=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Qr,Qo)||Qo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=ek({},r);return function w4(t,e,n){const r=new Ry(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(mh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Xy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(U(gn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function ek(t,e){return Array.isArray(e)?e.reduce(ek,t):{...t,...e}}let mh=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Oe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Oe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),zy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function x$(...t){const e=pu(t),n=function E$(t,e){return"number"==typeof Tg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Qn(r[0]):fo(n)(nt(r,e)):lr}(s,o.pipe(function M$(t={}){const{connector:e=(()=>new Or),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return _t((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Sg(p,i))}),I.subscribe(y),!o&&c>0&&(o=new fu({next:b=>I.next(b),error:b=>{d=!0,h(),a=Sg(f,n,b),I.error(b)},complete:()=>{l=!0,h(),a=Sg(f,r),I.complete()}}),Qn(m).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof CA;if(!this._injector.get(fh).done)throw!i&&function go(t){const e=we(t)||jt(t)||Jt(t);return null!==e&&e.standalone}(n),new S(405,false);let o;o=i?n:this._injector.get(Vu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function I4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Yo),c=o.create(gn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(GR,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),yh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;yh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(VR,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>yh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(U(Fe),U(Hr),U(Oo))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let _h=(()=>{class t{}return t.__NG_ELEMENT_ID__=T4,t})();function T4(t){return function S4(t,e,n){if(Eu(t)&&!n){const r=xn(t.index,e);return new Bu(r,r)}return 47&t.type?new Bu(e[16],e):null}(xt(),E(),16==(16&t))}class sk{constructor(){}supports(e){return Xd(e)}create(e){return new N4(e)}}const k4=(t,e)=>e;class N4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||k4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<ak(r,i,s)?n:r,a=ak(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Xd(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function sz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ds()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new O4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new ok),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ok),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class O4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class P4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class ok{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new P4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ak(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ck(){return new Ih([new sk])}let Ih=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ck()),deps:[[t,new xu,new qt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:ck}),t})();const B4=KR(null,"core",[]);let $4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(U(mh))},t.\u0275mod=$t({type:t}),t.\u0275inj=St({}),t})();function Jo(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let i_=null;function wr(){return i_}class G4{}const mn=new L("DocumentToken");let s_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return function q4(){return U(dk)}()},providedIn:"platform"}),t})();const z4=new L("Location Initialized");let dk=(()=>{class t extends s_{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(n){const r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){hk()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){hk()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(U(mn))},t.\u0275prov=j({token:t,factory:function(){return function W4(){return new dk(U(mn))}()},providedIn:"platform"}),t})();function hk(){return!!window.history.pushState}function o_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function fk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Zr(t){return t&&"?"!==t[0]?"?"+t:t}let ms=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return he(gk)},providedIn:"root"}),t})();const pk=new L("appBaseHref");let gk=(()=>{class t extends ms{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??he(mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return o_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Zr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Zr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(s_),U(pk,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),K4=(()=>{class t extends ms{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=o_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(s_),U(pk,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),a_=(()=>{class t{constructor(n){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Z4(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(fk(mk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Zr(r))}normalize(n){return t.stripTrailingSlash(function Y4(t,e){return t&&new RegExp(`^${t}([/;?#]|$)`).test(e)?e.substring(t.length):e}(this._basePath,mk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Zr,t.joinWithSlash=o_,t.stripTrailingSlash=fk,t.\u0275fac=function(n){return new(n||t)(U(ms))},t.\u0275prov=j({token:t,factory:function(){return function Q4(){return new a_(U(ms))}()},providedIn:"root"}),t})();function mk(t){return t.replace(/\/index.html$/,"")}class L8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ak=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new L8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),xk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{xk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(ir),D(Kr),D(Ih))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function xk(t,e){t.context.$implicit=e.item}let Mk=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new U8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Rk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Rk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(ir),D(Kr))},t.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class U8{constructor(){this.$implicit=null,this.ngIf=null}}function Rk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Se(e)}'.`)}let E_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=St({}),t})();let f6=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new p6(U(mn),window)}),t})();class p6{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function g6(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Pk(this.window.history)||Pk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Pk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class H6 extends G4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class C_ extends H6{static makeCurrent(){!function H4(t){i_||(i_=t)}(new C_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function G6(){return sc=sc||document.querySelector("base"),sc?sc.getAttribute("href"):null}();return null==n?null:function q6(t){kh=kh||document.createElement("a"),kh.setAttribute("href",t);const e=kh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function O8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let kh,sc=null;const $k=new L("TRANSITION_ID"),W6=[{provide:hh,useFactory:function z6(t,e,n){return()=>{n.get(fh).donePromise.then(()=>{const r=wr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[$k,mn,gn],multi:!0}];let Q6=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Nh=new L("EventManagerPlugins");let Oh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(U(Nh),U(Fe))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class jk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=wr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Hk=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),oc=(()=>{class t extends Hk{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Gk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Gk))}}return t.\u0275fac=function(n){return new(n||t)(U(mn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Gk(t){wr().remove(t)}const T_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},S_=/%COMP%/g;function A_(t,e){return e.flat(100).map(n=>n.replace(S_,t))}function Wk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let x_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new M_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case dr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new t5(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case dr.ShadowDom:return new n5(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=A_(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(U(Oh),U(oc),U(ec))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class M_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(T_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Qk(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Qk(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=T_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=T_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fn.DashCase|fn.Important)?e.style.setProperty(n,r,i&fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Wk(r)):this.eventManager.addEventListener(e,n,Wk(r))}}function Qk(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class t5 extends M_{constructor(e,n,r,i){super(e),this.component=r;const s=A_(i+"-"+r.id,r.styles);n.addStyles(s),this.contentAttr=function X6(t){return"_ngcontent-%COMP%".replace(S_,t)}(i+"-"+r.id),this.hostAttr=function J6(t){return"_nghost-%COMP%".replace(S_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class n5 extends M_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=A_(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let r5=(()=>{class t extends jk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(U(mn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Yk=["alt","control","meta","shift"],i5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},s5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let o5=(()=>{class t extends jk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Yk.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=i5[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Yk.forEach(o=>{o!==i&&(0,s5[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(U(mn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Xk=[{provide:ph,useValue:"browser"},{provide:LR,useValue:function a5(){C_.makeCurrent()},multi:!0},{provide:mn,useFactory:function c5(){return function jH(t){Mm=t}(document),document},deps:[]}],l5=KR(B4,"browser",Xk),Jk=new L(""),eN=[{provide:gh,useClass:class K6{addToWindow(e){xe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const i=xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?wr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:GR,useClass:Qy,deps:[Fe,Yy,gh]},{provide:Qy,useClass:Qy,deps:[Fe,Yy,gh]}],tN=[{provide:Bm,useValue:"root"},{provide:Oo,useFactory:function u5(){return new Oo},deps:[]},{provide:Nh,useClass:r5,multi:!0,deps:[mn,Fe,ph]},{provide:Nh,useClass:o5,multi:!0,deps:[mn]},{provide:x_,useClass:x_,deps:[Oh,oc,ec]},{provide:SA,useExisting:x_},{provide:Hk,useExisting:oc},{provide:oc,useClass:oc,deps:[mn]},{provide:Oh,useClass:Oh,deps:[Nh,Fe]},{provide:class m6{},useClass:Q6,deps:[]},[]];let d5=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:ec,useValue:n.appId},{provide:$k,useExisting:ec},W6]}}}return t.\u0275fac=function(n){return new(n||t)(U(Jk,12))},t.\u0275mod=$t({type:t}),t.\u0275inj=St({providers:[...tN,...eN],imports:[E_,$4]}),t})(),nN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(U(mn))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function f5(){return new nN(U(mn))}(),r},providedIn:"root"}),t})();function G(...t){return nt(t,pu(t))}typeof window<"u"&&window;class ur extends Or{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ph=hu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:I5}=Array,{getPrototypeOf:E5,prototype:D5,keys:b5}=Object;function sN(t){if(1===t.length){const e=t[0];if(I5(e))return{args:e,keys:null};if(function C5(t){return t&&"object"==typeof t&&E5(t)===D5}(e)){const n=b5(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:T5}=Array;function oN(t){return te(e=>function S5(t,e){return T5(e)?t(...e):t(e)}(t,e))}function aN(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function uN(...t){const e=pu(t),n=IT(t),{args:r,keys:i}=sN(t);if(0===r.length)return nt([],e);const s=new Oe(function A5(t,e,n=ts){return r=>{cN(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)cN(e,()=>{const c=nt(t[u],e);let l=!1;c.subscribe(ut(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>aN(i,o):ts));return n?s.pipe(oN(n)):s}function cN(t,e,n){t?Pr(n,t,e):e()}function N_(...t){return function x5(){return fo(1)}()(nt(t,pu(t)))}function lN(t){return new Oe(e=>{Qn(t()).subscribe(e)})}function ac(t,e){const n=Te(t)?t:()=>t,r=i=>i.error(n());return new Oe(e?i=>e.schedule(r,0,i):r)}function O_(){return _t((t,e)=>{let n=null;t._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class dN extends Oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,oT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bn;const n=this.getSubject();e.add(this.source.subscribe(ut(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bn.EMPTY)}return e}refCount(){return O_()(this)}}function Ir(t,e){return _t((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ut(r,u=>{i?.unsubscribe();let c=0;const l=s++;Qn(t(u,l)).subscribe(i=ut(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ea(t){return t<=0?()=>lr:_t((e,n)=>{let r=0;e.subscribe(ut(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ti(t,e){return _t((n,r)=>{let i=0;n.subscribe(ut(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Fh(t){return _t((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hN(t=R5){return _t((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function R5(){return new Ph}function Si(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ti((i,s)=>t(i,s,r)):ts,ea(1),n?Fh(e):hN(()=>new Ph))}function ys(t,e){return Te(e)?Tt(t,e,1):Tt(t,1)}function Rt(t,e,n){const r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?_t((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ut(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ts}function Ai(t){return _t((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ut(n,void 0,void 0,o=>{s=Qn(t(o,Ai(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function k5(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ut(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function fN(t,e){return _t(k5(t,e,arguments.length>=2,!0))}function P_(t){return t<=0?()=>lr:_t((e,n)=>{let r=[];e.subscribe(ut(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function pN(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ti((i,s)=>t(i,s,r)):ts,P_(1),n?Fh(e):hN(()=>new Ph))}function F_(t){return _t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ae="primary",uc=Symbol("RouteTitle");class P5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ta(t){return new P5(t)}function F5(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Er(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!gN(t[i],e[i]))return!1;return!0}function gN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function mN(t){return Array.prototype.concat.apply([],t)}function yN(t){return t.length>0?t[t.length-1]:null}function kt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function xi(t){return my(t)?t:Gu(t)?nt(Promise.resolve(t)):G(t)}const Lh=!1,V5={exact:function wN(t,e,n){if(!vs(t.segments,e.segments)||!Vh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!wN(t.children[r],e.children[r],n))return!1;return!0},subset:IN},_N={exact:function U5(t,e){return Er(t,e)},subset:function B5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gN(t[n],e[n]))},ignored:()=>!0};function vN(t,e,n){return V5[n.paths](t.root,e.root,n.matrixParams)&&_N[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function IN(t,e,n){return EN(t,e,e.segments,n)}function EN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!vs(i,n)||e.hasChildren()||!Vh(i,n,r))}if(t.segments.length===n.length){if(!vs(t.segments,n)||!Vh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!IN(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(vs(t.segments,i)&&Vh(t.segments,i,r)&&t.children[ae])&&EN(t.children[ae],e,s,r)}}function Vh(t,e,n){return e.every((r,i)=>_N[n](t[i].parameters,r.parameters))}class _s{constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){return H5.serialize(this)}}class ue{constructor(e,n){this.segments=e,this.children=n,this.parent=null,kt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uh(this)}}class cc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ta(this.parameters)),this._parameterMap}toString(){return CN(this)}}function vs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let lc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new L_},providedIn:"root"}),t})();class L_{parse(e){const n=new X5(e);return new _s(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${dc(e.root,!0)}`,r=function z5(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Bh(n)}=${Bh(i)}`).join("&"):`${Bh(n)}=${Bh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function G5(t){return encodeURI(t)}(e.fragment)}`:""}`}}const H5=new L_;function Uh(t){return t.segments.map(e=>CN(e)).join("/")}function dc(t,e){if(!t.hasChildren())return Uh(t);if(e){const n=t.children[ae]?dc(t.children[ae],!1):"",r=[];return kt(t.children,(i,s)=>{s!==ae&&r.push(`${s}:${dc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function j5(t,e){let n=[];return kt(t.children,(r,i)=>{i===ae&&(n=n.concat(e(r,i)))}),kt(t.children,(r,i)=>{i!==ae&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ae?[dc(t.children[ae],!1)]:[`${i}:${dc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${Uh(t)}/${n[0]}`:`${Uh(t)}/(${n.join("//")})`}}function DN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bh(t){return DN(t).replace(/%3B/gi,";")}function V_(t){return DN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $h(t){return decodeURIComponent(t)}function bN(t){return $h(t.replace(/\+/g,"%20"))}function CN(t){return`${V_(t.path)}${function q5(t){return Object.keys(t).map(e=>`;${V_(e)}=${V_(t[e])}`).join("")}(t.parameters)}`}const W5=/^[^\/()?;=#]+/;function jh(t){const e=t.match(W5);return e?e[0]:""}const K5=/^[^=?&#]+/,Y5=/^[^&#]+/;class X5{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new ue(e,n)),r}parseSegment(){const e=jh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,Lh);return this.capture(e),new cc($h(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=jh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=jh(this.remaining);i&&(r=i,this.capture(r))}e[$h(n)]=$h(r)}parseQueryParam(e){const n=function Q5(t){const e=t.match(K5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Z5(t){const e=t.match(Y5);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=bN(n),s=bN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=jh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,Lh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ae]:new ue([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,Lh)}}function U_(t){return t.segments.length>0?new ue([],{[ae]:t}):t}function Hh(t){const e={};for(const r of Object.keys(t.children)){const s=Hh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function J5(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new ue(t.segments.concat(e.segments),e.children)}return t}(new ue(t.segments,e))}function ws(t){return t instanceof _s}function nK(t,e,n,r,i){if(0===n.length)return na(e.root,e.root,e.root,r,i);const s=function AN(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new SN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return kt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new SN(n,e,r)}(n);return s.toRoot()?na(e.root,e.root,new ue([],{}),r,i):function o(u){const c=function iK(t,e,n,r){if(t.isAbsolute)return new ra(e.root,!0,0);if(-1===r)return new ra(n,n===e.root,0);return function xN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new ra(r,!1,i-s)}(n,r+(hc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?pc(c.segmentGroup,c.index,s.commands):$_(c.segmentGroup,c.index,s.commands);return na(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function hc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fc(t){return"object"==typeof t&&null!=t&&t.outlets}function na(t,e,n,r,i){let o,s={};r&&kt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:TN(t,e,n);const a=U_(Hh(o));return new _s(a,s,i)}function TN(t,e,n){const r={};return kt(t.children,(i,s)=>{r[s]=i===e?n:TN(i,e,n)}),new ue(t.segments,r)}class SN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&hc(r[0]))throw new S(4003,!1);const i=r.find(fc);if(i&&i!==yN(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ra{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function $_(t,e,n){if(t||(t=new ue([],{})),0===t.segments.length&&t.hasChildren())return pc(t,e,n);const r=function oK(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(fc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!RN(u,c,o))return s;r+=2}else{if(!RN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ue(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new ue(t.segments.slice(r.pathIndex),t.children),pc(s,0,i)}return r.match&&0===i.length?new ue(t.segments,{}):r.match&&!t.hasChildren()?j_(t,e,n):r.match?pc(t,0,i):j_(t,e,n)}function pc(t,e,n){if(0===n.length)return new ue(t.segments,{});{const r=function sK(t){return fc(t[0])?t[0].outlets:{[ae]:t}}(n),i={};return kt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=$_(t.children[o],e,s))}),kt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ue(t.segments,i)}}function j_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(fc(s)){const u=aK(s.outlets);return new ue(r,u)}if(0===i&&hc(n[0])){r.push(new cc(t.segments[e].path,MN(n[0]))),i++;continue}const o=fc(s)?s.outlets[ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&hc(a)?(r.push(new cc(o,MN(a))),i+=2):(r.push(new cc(o,{})),i++)}return new ue(r,{})}function aK(t){const e={};return kt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=j_(new ue([],{}),0,n))}),e}function MN(t){const e={};return kt(t,(n,r)=>e[r]=`${n}`),e}function RN(t,e,n){return t==n.path&&Er(e,n.parameters)}const gc="imperative";class Dr{constructor(e,n){this.id=e,this.url=n}}class H_ extends Dr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Is extends Dr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gh extends Dr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kN extends Dr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class NN extends Dr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uK extends Dr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cK extends Dr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lK extends Dr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dK extends Dr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hK extends Dr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _K{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ON{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let wK=(()=>{class t{createUrlTree(n,r,i,s,o,a){return nK(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),IK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(e){return wK.\u0275fac(e)},providedIn:"root"}),t})();class PN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=G_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=G_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=q_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return q_(e,this._root).map(n=>n.value)}}function G_(t,e){if(t===e.value)return e;for(const n of e.children){const r=G_(t,n);if(r)return r}return null}function q_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=q_(t,n);if(r.length)return r.unshift(e),r}return[]}class Jr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ia(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class FN extends PN{constructor(e,n){super(e),this.snapshot=n,z_(this,e)}toString(){return this.snapshot.toString()}}function LN(t,e){const n=function EK(t,e){const o=new qh([],{},{},"",{},ae,e,null,t.root,-1,{});return new UN("",new Jr(o,[]))}(t,e),r=new ur([new cc("",{})]),i=new ur({}),s=new ur({}),o=new ur({}),a=new ur(""),u=new sa(r,i,o,a,s,ae,e,n.root);return u.snapshot=n.root,new FN(new Jr(u,[]),n)}class sa{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(te(c=>c[uc]))??G(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(te(e=>ta(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(te(e=>ta(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function DK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class qh{get title(){return this.data?.[uc]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ta(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UN extends PN{constructor(e,n){super(n),this.url=e,z_(this,n)}toString(){return BN(this._root)}}function z_(t,e){e.value._routerState=t,e.children.forEach(n=>z_(t,n))}function BN(t){const e=t.children.length>0?` { ${t.children.map(BN).join(", ")} } `:"";return`${t.value}${e}`}function W_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Er(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Er(e.params,n.params)||t.params.next(n.params),function L5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Er(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Er(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function K_(t,e){const n=Er(t.params,e.params)&&function $5(t,e){return vs(t,e)&&t.every((n,r)=>Er(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||K_(t.parent,e.parent))}function mc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function CK(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return mc(t,r,i);return mc(t,r)})}(t,e,n);return new Jr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>mc(t,a)),o}}const r=function TK(t){return new sa(new ur(t.url),new ur(t.params),new ur(t.queryParams),new ur(t.fragment),new ur(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>mc(t,s));return new Jr(r,i)}}const Q_="ngNavigationCancelingError";function $N(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ws(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=jN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function jN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Q_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function HN(t){return GN(t)&&ws(t.url)}function GN(t){return t&&t[Q_]}class SK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yc,this.attachRef=null}}let yc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new SK,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zh=!1;let Y_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=he(yc),this.location=he(ir),this.changeDetector=he(_h),this.environmentInjector=he(Hr)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,zh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,zh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,zh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,zh);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new AK(n,a,i.injector);if(r&&function xK(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]}),t})();class AK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===sa?this.route:e===yc?this.childContexts:this.parent.get(e,n)}}let Z_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Vr({type:t,selectors:[["ng-component"]],standalone:!0,features:[WM],decls:1,vars:0,template:function(n,r){1&n&&Hn(0,"router-outlet")},dependencies:[Y_],encapsulation:2}),t})();function qN(t,e){return t.providers&&!t._injector&&(t._injector=uh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function J_(t){const e=t.children&&t.children.map(J_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=Z_),n}function zn(t){return t.outlet||ae}function zN(t,e){const n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}function _c(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class OK{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),W_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ia(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),kt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ia(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ia(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=ia(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new _K(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(W_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),W_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=_c(i.snapshot),u=a?.get(Vu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class WN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wh{constructor(e,n){this.component=e,this.route=n}}function PK(t,e,n){const r=t._root;return vc(r,e?e._root:null,n,[r.value])}function oa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function L$(t){return null!==ld(t)}(t)?e.get(t):t:r}function vc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ia(e);return t.children.forEach(o=>{(function LK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function VK(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!vs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vs(t.url,e.url)||!Er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!K_(t,e)||!Er(t.queryParams,e.queryParams);default:return!K_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new WN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),vc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wh(a.outlet.component,o))}else o&&wc(e,a,i),i.canActivateChecks.push(new WN(r)),vc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),kt(s,(o,a)=>wc(o,n.getContext(a),i)),i}function wc(t,e,n){const r=ia(t),i=t.value;kt(r,(s,o)=>{wc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Wh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ic(t){return"function"==typeof t}function ev(t){return t instanceof Ph||"EmptyError"===t?.name}const Kh=Symbol("INITIAL_VALUE");function aa(){return Ir(t=>uN(t.map(e=>e.pipe(ea(1),function M5(...t){const e=pu(t);return _t((n,r)=>{(e?N_(t,n,e):N_(t,n)).subscribe(r)})}(Kh)))).pipe(te(e=>{for(const n of e)if(!0!==n){if(n===Kh)return Kh;if(!1===n||n instanceof _s)return n}return!0}),Ti(e=>e!==Kh),ea(1)))}function KN(t){return nT(Rt(e=>{if(ws(e))throw $N(0,e)}),te(e=>!0===e))}const tv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QN(t,e,n,r,i){const s=nv(t,e,n);return s.matched?function t7(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=oa(o,t);return xi(function GK(t){return t&&Ic(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(aa(),KN()):G(!0)}(r=qN(e,r),e,n).pipe(te(o=>!0===o?s:{...tv})):G(s)}function nv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...tv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||F5)(n,t,e);if(!i)return{...tv};const s={};kt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Qh(t,e,n,r){if(n.length>0&&function i7(t,e,n){return n.some(r=>Yh(t,e,r)&&zn(r)!==ae)}(t,n,r)){const s=new ue(e,function r7(t,e,n,r){const i={};i[ae]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&zn(s)!==ae){const o=new ue([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[zn(s)]=o}return i}(t,e,r,new ue(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function s7(t,e,n){return n.some(r=>Yh(t,e,r))}(t,n,r)){const s=new ue(t.segments,function n7(t,e,n,r,i){const s={};for(const o of r)if(Yh(t,n,o)&&!i[zn(o)]){const a=new ue([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[zn(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new ue(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Yh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function YN(t,e,n,r){return!!(zn(t)===r||r!==ae&&Yh(e,n,t))&&("**"===t.path||nv(e,t,n).matched)}function ZN(t,e,n){return 0===e.length&&!t.children[n]}const Zh=!1;class Xh{constructor(e){this.segmentGroup=e||null}}class XN{constructor(e){this.urlTree=e}}function Ec(t){return ac(new Xh(t))}function JN(t){return ac(new XN(t))}class c7{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Qh(this.urlTree.root,[],[],this.config).segmentGroup,n=new ue(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ae).pipe(te(s=>this.createUrlTree(Hh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ai(s=>{if(s instanceof XN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Xh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ae).pipe(te(i=>this.createUrlTree(Hh(i),e.queryParams,e.fragment))).pipe(Ai(i=>{throw i instanceof Xh?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,Zh)}createUrlTree(e,n,r){const i=U_(e);return new _s(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(te(s=>new ue([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return nt(i).pipe(ys(s=>{const o=r.children[s],a=zN(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(te(u=>({segment:u,outlet:s})))}),fN((s,o)=>(s[o.outlet]=o.segment,s),{}),pN())}expandSegment(e,n,r,i,s,o){return nt(r).pipe(ys(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ai(c=>{if(c instanceof Xh)return G(null);throw c}))),Si(a=>!!a),Ai((a,u)=>{if(ev(a))return ZN(n,i,s)?G(new ue([],{})):Ec(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return YN(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Ec(n):Ec(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?JN(s):this.lineralizeSegments(r,s).pipe(Tt(o=>{const a=new ue(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=nv(n,i,s);if(!a)return Ec(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?JN(d):this.lineralizeSegments(i,d).pipe(Tt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=qN(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(te(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ue(i,{})))):G(new ue(i,{}))):QN(n,r,i,e).pipe(Ir(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Tt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Qh(n,a,u,h),m=new ue(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(te(v=>new ue(a,v)));if(0===h.length&&0===p.length)return G(new ue(a,{}));const y=zn(r)===s;return this.expandSegment(d,m,h,p,y?ae:s,!0).pipe(te(b=>new ue(a.concat(b.segments),b.children)))})):Ec(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function e7(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=oa(o,t);return xi(function BK(t){return t&&Ic(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(aa(),KN())}(e,n,r).pipe(Tt(i=>i?this.configLoader.loadChildren(e,n).pipe(Rt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function a7(t){return ac(jN(Zh,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[ae])return ac(new S(4e3,Zh));i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new _s(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return kt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return kt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ue(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,Zh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class d7{}class p7{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Qh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(te(n=>{if(null===n)return null;const r=new qh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Jr(r,n),s=new UN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=VN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return nt(Object.keys(r.children)).pipe(ys(i=>{const s=r.children[i],o=zN(n,i);return this.processSegmentGroup(e,o,s,i)}),fN((i,s)=>i&&s?(i.push(...s),i):null),function N5(t,e=!1){return _t((n,r)=>{let i=0;n.subscribe(ut(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Fh(null),pN(),te(i=>{if(null===i)return null;const s=t1(i);return function g7(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return nt(n).pipe(ys(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Si(o=>!!o),Ai(o=>{if(ev(o))return ZN(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!YN(n,r,i,s))return G(null);let o;if("**"===n.path){const a=i.length>0?yN(i).parameters:{},u=r1(r)+i.length;o=G({snapshot:new qh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,i1(n),zn(n),n.component??n._loadedComponent??null,n,n1(r),u,s1(n)),consumedSegments:[],remainingSegments:[]})}else o=QN(r,n,i,e).pipe(te(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=r1(r)+u.length;return{snapshot:new qh(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,i1(n),zn(n),n.component??n._loadedComponent??null,n,n1(r),d,s1(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Ir(a=>{if(null===a)return G(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function m7(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Qh(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(te(y=>null===y?null:[new Jr(u,y)]));if(0===h.length&&0===p.length)return G([new Jr(u,[])]);const m=zn(n)===s;return this.processSegment(d,h,f,p,m?ae:s).pipe(te(y=>null===y?null:[new Jr(u,y)]))}))}}function y7(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function t1(t){const e=[],n=new Set;for(const r of t){if(!y7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=t1(r.children);e.push(new Jr(r.value,i))}return e.filter(r=>!n.has(r))}function n1(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function r1(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function i1(t){return t.data||{}}function s1(t){return t.resolve||{}}function o1(t){return"string"==typeof t.title||null===t.title}function rv(t){return Ir(e=>{const n=t(e);return n?nt(n).pipe(te(()=>e)):G(e)})}const ua=new L("ROUTES");let iv=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=xi(n.loadComponent()).pipe(te(u1),Rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),F_(()=>{this.componentLoaders.delete(n)})),i=new dN(r,()=>new Or).pipe(O_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(te(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=mN(u.get(ua,[],z.Self|z.Optional)));return{routes:c.map(J_),injector:u}}),F_(()=>{this.childrenLoaders.delete(r)})),o=new dN(s,()=>new Or).pipe(O_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return xi(n()).pipe(te(u1),Tt(i=>i instanceof qM||Array.isArray(i)?G(i):nt(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)(U(gn),U(UR))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function u1(t){return function T7(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let ef=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Or,this.configLoader=he(iv),this.environmentInjector=he(Hr),this.urlSerializer=he(lc),this.rootContexts=he(yc),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new pK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new fK(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new ur({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ti(r=>0!==r.id),te(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Ir(r=>{let i=!1,s=!1;return G(r).pipe(Rt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ir(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new kN(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),lr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return c1(o.source)&&(n.browserUrlTree=o.extractedUrl),G(o).pipe(Ir(l=>{const d=this.transitions?.getValue();return this.events.next(new H_(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?lr:Promise.resolve(l)}),function l7(t,e,n,r){return Ir(i=>function u7(t,e,n,r,i){return new c7(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(te(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Rt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function v7(t,e,n,r,i){return Tt(s=>function f7(t,e,n,r,i,s,o="emptyOnly"){return new p7(t,e,n,r,i,o,s).recognize().pipe(Ir(a=>null===a?function h7(t){return new Oe(e=>e.error(t))}(new d7):G(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(te(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Rt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new uK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new H_(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=LN(d,this.rootComponentType).snapshot;return G(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new kN(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),lr}}),Rt(o=>{const a=new cK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),te(o=>r={...o,guards:PK(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function zK(t,e){return Tt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function WK(t,e,n,r){return nt(t).pipe(Tt(i=>function JK(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=_c(e)??i,c=oa(a,u);return xi(function HK(t){return t&&Ic(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Si())})).pipe(aa()):G(!0)}(i.component,i.route,n,e,r)),Si(i=>!0!==i,!0))}(o,r,i,t).pipe(Tt(a=>a&&function UK(t){return"boolean"==typeof t}(a)?function KK(t,e,n,r){return nt(e).pipe(ys(i=>N_(function YK(t,e){return null!==t&&e&&e(new gK(t)),G(!0)}(i.route.parent,r),function QK(t,e){return null!==t&&e&&e(new yK(t)),G(!0)}(i.route,r),function XK(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function FK(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>lN(()=>G(o.guards.map(u=>{const c=_c(o.node)??n,l=oa(u,c);return xi(function jK(t){return t&&Ic(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Si())})).pipe(aa())));return G(s).pipe(aa())}(t,i.path,n),function ZK(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>lN(()=>{const o=_c(e)??n,a=oa(s,o);return xi(function $K(t){return t&&Ic(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Si())}));return G(i).pipe(aa())}(t,i.route,n))),Si(i=>!0!==i,!0))}(r,s,t,e):G(a)),te(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Rt(o=>{if(r.guardsResult=o.guardsResult,ws(o.guardsResult))throw $N(0,o.guardsResult);const a=new lK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ti(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),rv(o=>{if(o.guards.canActivateChecks.length)return G(o).pipe(Rt(a=>{const u=new dK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ir(a=>{let u=!1;return G(a).pipe(function w7(t,e){return Tt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return nt(i).pipe(ys(o=>function I7(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!o1(i)&&(s[uc]=i.title),function E7(t,e,n,r){const i=function D7(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return nt(i).pipe(Tt(o=>function b7(t,e,n,r){const i=_c(e)??r,s=oa(t,i);return xi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Si(),Rt(a=>{s[o]=a}))),P_(1),function O5(t){return te(()=>t)}(s),Ai(o=>ev(o)?lr:ac(o)))}(s,t,e,r).pipe(te(o=>(t._resolvedData=o,t.data=VN(t,n).resolve,i&&o1(i)&&(t.data[uc]=i.title),null)))}(o.route,r,t,e)),Rt(()=>s++),P_(1),Tt(o=>s===i.length?G(n):lr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Rt(a=>{const u=new hK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),rv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Rt(l=>{u.component=l}),te(()=>{})));for(const l of u.children)c.push(...a(l));return c};return uN(a(o.targetSnapshot.root)).pipe(Fh(),ea(1))}),rv(()=>this.afterPreactivation()),te(o=>{const a=function bK(t,e,n){const r=mc(t,e._root,n?n._root:void 0);return new FN(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Rt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>te(r=>(new OK(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Rt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Is(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),F_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ai(o=>{if(s=!0,GN(o)){HN(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Gh(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),HN(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||c1(r.source)};n.scheduleNavigation(u,gc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new NN(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return lr}))}))}cancelNavigationTransition(n,r,i){const s=new Gh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function c1(t){return t!==gc}let l1=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[uc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return he(S7)},providedIn:"root"}),t})(),S7=(()=>{class t extends l1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(U(nN))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return he(M7)},providedIn:"root"}),t})();class x7{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let M7=(()=>{class t extends x7{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tf=new L("",{providedIn:"root",factory:()=>({})});let k7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return he(N7)},providedIn:"root"}),t})(),N7=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function O7(t){throw t}function P7(t,e,n){return e.parse("/")}const F7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ft=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=he(a4),this.isNgZoneEnabled=!1,this.options=he(tf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||O7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||P7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=he(k7),this.routeReuseStrategy=he(A7),this.urlCreationStrategy=he(IK),this.titleStrategy=he(l1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=mN(he(ua,{optional:!0})??[]),this.navigationTransitions=he(ef),this.urlSerializer=he(lc),this.location=he(a_),this.isNgZoneEnabled=he(Fe)instanceof Fe&&Fe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _s,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(J_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ws(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,gc,null,r)}navigate(n,r={skipLocationChange:!1}){return function V7(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new S(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...F7}:!1===r?{...L7}:r,ws(n))return vN(this.currentUrlTree,n,i);const s=this.parseUrl(n);return vN(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nf=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Or;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Is&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Jo(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Jo(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Jo(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function gA(t,e,n){return function lG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?pA:Fm}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(D(ft),D(sa),function Md(t){return function Pj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(sS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(xt(),t)}("tabindex"),D(Gr),D(Rn),D(ms))},t.\u0275dir=K({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&vt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&yr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Un]}),t})(),h1=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ge,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Is&&this.update()})}ngAfterContentInit(){G(this.links.changes,G(null)).pipe(fo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=nt(n).pipe(fo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function U7(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(D(ft),D(Rn),D(Gr),D(_h),D(nf,8))},t.\u0275dir=K({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&hR(i,nf,5),2&n){let s;dR(s=function fR(){return function B3(t,e){return t[19].queries[e].queryList}(E(),XT())}())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Un]}),t})();class f1{}let B7=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ti(n=>n instanceof Is),ys(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=uh(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return nt(i).pipe(fo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):G(null);const s=i.pipe(Tt(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?nt([s,this.loader.loadComponent(r)]).pipe(fo()):s})}}return t.\u0275fac=function(n){return new(n||t)(U(ft),U(UR),U(Hr),U(f1),U(iv))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sv=new L("");let p1=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof H_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Is&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ON&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ON(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function WA(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Es(t,e){return{\u0275kind:t,\u0275providers:e}}function m1(){const t=he(gn);return e=>{const n=t.get(mh);if(e!==n.components[0])return;const r=t.get(ft),i=t.get(y1);1===t.get(av)&&r.initialNavigation(),t.get(_1,null,z.Optional)?.setUpPreloading(),t.get(sv,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const y1=new L("",{factory:()=>new Or}),av=new L("",{providedIn:"root",factory:()=>1});const _1=new L("");function q7(t){return Es(0,[{provide:_1,useExisting:B7},{provide:f1,useExisting:t}])}const v1=new L("ROUTER_FORROOT_GUARD"),z7=[a_,{provide:lc,useClass:L_},ft,yc,{provide:sa,useFactory:function g1(t){return t.routerState.root},deps:[ft]},iv,[]];function W7(){return new zR("Router",ft)}let w1=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[z7,[],{provide:ua,multi:!0,useValue:n},{provide:v1,useFactory:Z7,deps:[[ft,new qt,new xu]]},{provide:tf,useValue:r||{}},r?.useHash?{provide:ms,useClass:K4}:{provide:ms,useClass:gk},{provide:sv,useFactory:()=>{const t=he(f6),e=he(Fe),n=he(tf),r=he(ef),i=he(lc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new p1(i,r,t,e,n)}},r?.preloadingStrategy?q7(r.preloadingStrategy).\u0275providers:[],{provide:zR,multi:!0,useFactory:W7},r?.initialNavigation?X7(r):[],[{provide:I1,useFactory:m1},{provide:VR,multi:!0,useExisting:I1}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ua,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(U(v1,8))},t.\u0275mod=$t({type:t}),t.\u0275inj=St({imports:[Z_]}),t})();function Z7(t){return"guarded"}function X7(t){return["disabled"===t.initialNavigation?Es(3,[{provide:hh,multi:!0,useFactory:()=>{const e=he(ft);return()=>{e.setUpLocationChangeListener()}}},{provide:av,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Es(2,[{provide:av,useValue:0},{provide:hh,multi:!0,deps:[gn],useFactory:e=>{const n=e.get(z4,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=e.get(ft),o=e.get(y1);(function r(i){e.get(ft).events.pipe(Ti(o=>o instanceof Is||o instanceof Gh||o instanceof NN),te(o=>o instanceof Is||o instanceof Gh&&(0===o.code||1===o.code)&&null),Ti(o=>null!==o),ea(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(ef).afterPreactivation=()=>(i(!0),o.closed?G(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const I1=new L("");function E1(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){E1(s,r,i,o,a,"next",u)}function a(u){E1(s,r,i,o,a,"throw",u)}o(void 0)})}}const D1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},rf=function(t){return function(t){const e=D1(t);return cv.encodeByteArray(e,!0)}(t).replace(/\./g,"")},sf=function(t){try{return cv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},af=()=>{try{return function s9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},C1=t=>{var e,n;return null===(n=null===(e=af())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},T1=t=>{var e;return null===(e=af())||void 0===e?void 0:e[`_${t}`]};class uf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function wt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ds(){try{return"object"==typeof indexedDB}catch{return!1}}function bc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function dv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Wn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}}class br{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function y9(t,e){return t.replace(_9,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Wn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const _9=/\{\$([^}]+)}/g;function lf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(A1(s)&&A1(o)){if(!lf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function A1(t){return null!==t&&"object"==typeof t}function df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class I9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function E9(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=hv),void 0===i.error&&(i.error=hv),void 0===i.complete&&(i.complete=hv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hv(){}function pv(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Kt(t){return t&&t._delegate?t._delegate:t}class Qt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bs="[DEFAULT]";class A9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function M9(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===bs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class R9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const gv=[];var pe=(()=>{return(t=pe||(pe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",pe;var t})();const x1={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},k9=pe.INFO,N9={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},O9=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=N9[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class la{constructor(e){this.name=e,this._logLevel=k9,this._logHandler=O9,this._userLogHandler=null,gv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?x1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}let M1,R1;const k1=new WeakMap,mv=new WeakMap,N1=new WeakMap,yv=new WeakMap,_v=new WeakMap;let vv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return mv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||N1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function j9(t){return"function"==typeof t?function $9(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function L9(){return R1||(R1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(wv(this),e),ei(k1.get(this))}:function(...e){return ei(t.apply(wv(this),e))}:function(e,...n){const r=t.call(wv(this),e,...n);return N1.set(r,e.sort?e.sort():[e]),ei(r)}}(t):(t instanceof IDBTransaction&&function U9(t){if(mv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function F9(){return M1||(M1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,vv):t)}function ei(t){if(t instanceof IDBRequest)return function V9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&k1.set(n,t)}).catch(()=>{}),_v.set(e,t),e}(t);if(yv.has(t))return yv.get(t);const e=j9(t);return e!==t&&(yv.set(t,e),_v.set(e,t)),e}const wv=t=>_v.get(t);function hf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ei(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ei(o.result),u.oldVersion,u.newVersion,ei(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Iv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ei(n).then(()=>{})}const H9=["get","getKey","getAll","getAllKeys","count"],G9=["put","add","delete","clear"],Ev=new Map;function O1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Ev.get(e))return Ev.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=G9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!H9.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Ev.set(e,s),s}!function B9(t){vv=t(vv)}(t=>({...t,get:(e,n,r)=>O1(e,n)||t.get(e,n,r),has:(e,n)=>!!O1(e,n)||t.has(e,n)}));class q9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function z9(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Dv="@firebase/app",Cs=new la("@firebase/app"),ff="[DEFAULT]",_Q={[Dv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ts=new Map,pf=new Map;function vQ(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function on(t){const e=t.name;if(pf.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;pf.set(e,t);for(const n of Ts.values())vQ(n,t);return!0}function da(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ti=new br("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class IQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}const ha="9.16.0";function F1(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ff,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ti.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=af())||void 0===t?void 0:t.config})()),!n)throw ti.create("no-options");const s=Ts.get(i);if(s){if(lf(n,s.options)&&lf(r,s.config))return s;throw ti.create("duplicate-app",{appName:i})}const o=new R9(i);for(const u of pf.values())o.addComponent(u);const a=new IQ(n,r,o);return Ts.set(i,a),a}function bv(t=ff){const e=Ts.get(t);if(!e&&t===ff)return F1();if(!e)throw ti.create("no-app",{appName:t});return e}function L1(){return Array.from(Ts.values())}function qe(t,e,n){var r;let i=null!==(r=_Q[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Cs.warn(a.join(" "))}on(new Qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Sc="firebase-heartbeat-store";let Tv=null;function V1(){return Tv||(Tv=hf("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Sc)}}).catch(t=>{throw ti.create("idb-open",{originalErrorMessage:t.message})})),Tv}function Sv(){return(Sv=g(function*(t){try{return(yield V1()).transaction(Sc).objectStore(Sc).get(B1(t))}catch(e){if(e instanceof Wn)Cs.warn(e.message);else{const n=ti.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(n.message)}}})).apply(this,arguments)}function U1(t,e){return Av.apply(this,arguments)}function Av(){return(Av=g(function*(t,e){try{const r=(yield V1()).transaction(Sc,"readwrite");return yield r.objectStore(Sc).put(e,B1(t)),r.done}catch(n){if(n instanceof Wn)Cs.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n?.message});Cs.warn(r.message)}}})).apply(this,arguments)}function B1(t){return`${t.name}!${t.options.appId}`}class SQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$1();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=$1(),{heartbeatsToSend:r,unsentEntries:i}=function AQ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),j1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),j1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=rf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function $1(){return(new Date).toISOString().substring(0,10)}class xQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ds()&&bc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function bQ(t){return Sv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return U1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return U1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function j1(t){return rf(JSON.stringify({version:2,heartbeats:t})).length}!function MQ(t){on(new Qt("platform-logger",e=>new q9(e),"PRIVATE")),on(new Qt("heartbeat",e=>new SQ(e),"PRIVATE")),qe(Dv,"0.9.1",t),qe(Dv,"0.9.1","esm2017"),qe("fire-js","")}(""),qe("firebase","9.16.0","app");const H1="@firebase/installations",xv="0.6.1",q1=`w:${xv}`,z1="FIS_v2",ni=new br("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function W1(t){return t instanceof Wn&&t.code.includes("request-failed")}function Mv({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function K1(t){return{token:t.token,requestStatus:2,expiresIn:VQ(t.expiresIn),creationTime:Date.now()}}function Rv(t,e){return kv.apply(this,arguments)}function kv(){return(kv=g(function*(t,e){const r=(yield e.json()).error;return ni.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Q1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Y1(t,{refreshToken:e}){const n=Q1(t);return n.append("Authorization",function UQ(t){return`${z1} ${t}`}(e)),n}function Nv(t){return Ov.apply(this,arguments)}function Ov(){return(Ov=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function VQ(t){return Number(t.replace("s","000"))}function BQ(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Mv(t),i=Q1(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:z1,appId:t.appId,sdkVersion:q1})},u=yield Nv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:K1(c.authToken)}}throw yield Rv("Create Installation",u)})).apply(this,arguments)}function Z1(t){return new Promise(e=>{setTimeout(e,t)})}const jQ=/^[cdef][\w-]{21}$/;function HQ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function GQ(t){return function $Q(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return jQ.test(n)?n:""}catch{return""}}function fa(t){return`${t.appName}!${t.appId}`}const pa=new Map;function X1(t,e){const n=fa(t);J1(n,e),function WQ(t,e){const n=function eO(){return!Ss&&"BroadcastChannel"in self&&(Ss=new BroadcastChannel("[Firebase] FID Change"),Ss.onmessage=t=>{J1(t.data.key,t.data.fid)}),Ss}();n&&n.postMessage({key:t,fid:e}),function tO(){0===pa.size&&Ss&&(Ss.close(),Ss=null)}()}(n,e)}function J1(t,e){const n=pa.get(t);if(n)for(const r of n)r(e)}let Ss=null;const As="firebase-installations-store";let Lv=null;function Vv(){return Lv||(Lv=hf("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(As)}})),Lv}function gf(t,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=g(function*(t,e){const n=fa(t),i=(yield Vv()).transaction(As,"readwrite"),s=i.objectStore(As),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&X1(t,e.fid),e})).apply(this,arguments)}function Bv(t){return $v.apply(this,arguments)}function $v(){return($v=g(function*(t){const e=fa(t),r=(yield Vv()).transaction(As,"readwrite");yield r.objectStore(As).delete(e),yield r.done})).apply(this,arguments)}function Ac(t,e){return jv.apply(this,arguments)}function jv(){return(jv=g(function*(t,e){const n=fa(t),i=(yield Vv()).transaction(As,"readwrite"),s=i.objectStore(As),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&X1(t,a.fid),a})).apply(this,arguments)}function Hv(t){return Gv.apply(this,arguments)}function Gv(){return(Gv=g(function*(t){let e;const n=yield Ac(t.appConfig,r=>{const i=YQ(r),s=ZQ(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function YQ(t){return rO(t||{fid:HQ(),registrationStatus:0})}function ZQ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ni.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function XQ(t,e){return qv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:JQ(t)}:{installationEntry:e}}function qv(){return(qv=g(function*(t,e){try{const n=yield BQ(t,e);return gf(t.appConfig,n)}catch(n){throw W1(n)&&409===n.customData.serverCode?yield Bv(t.appConfig):yield gf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function JQ(t){return zv.apply(this,arguments)}function zv(){return(zv=g(function*(t){let e=yield nO(t.appConfig);for(;1===e.registrationStatus;)yield Z1(100),e=yield nO(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Hv(t);return r||n}return e})).apply(this,arguments)}function nO(t){return Ac(t,e=>{if(!e)throw ni.create("installation-not-found");return rO(e)})}function rO(t){return function eY(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function tY(t,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=nY(t,n),i=Y1(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:q1,appId:t.appId}})},u=yield Nv(()=>fetch(r,a));if(u.ok)return K1(yield u.json());throw yield Rv("Generate Auth Token",u)})).apply(this,arguments)}function nY(t,{fid:e}){return`${Mv(t)}/${e}/authTokens:generate`}function Kv(t){return Qv.apply(this,arguments)}function Qv(){return(Qv=g(function*(t,e=!1){let n;const r=yield Ac(t.appConfig,s=>{if(!sO(s))throw ni.create("not-registered");const o=s.authToken;if(!e&&sY(o))return s;if(1===o.requestStatus)return n=rY(t,e),s;{if(!navigator.onLine)throw ni.create("app-offline");const a=aY(s);return n=iY(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function rY(t,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=g(function*(t,e){let n=yield iO(t.appConfig);for(;1===n.authToken.requestStatus;)yield Z1(100),n=yield iO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Kv(t,e):r})).apply(this,arguments)}function iO(t){return Ac(t,e=>{if(!sO(e))throw ni.create("not-registered");return function uY(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function iY(t,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(t,e){try{const n=yield tY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield gf(t.appConfig,r),n}catch(n){if(!W1(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield gf(t.appConfig,r)}else yield Bv(t.appConfig);throw n}})).apply(this,arguments)}function sO(t){return void 0!==t&&2===t.registrationStatus}function sY(t){return 2===t.requestStatus&&!function oY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function aY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Xv(){return(Xv=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Hv(e);return r?r.catch(console.error):Kv(e).catch(console.error),n.fid})).apply(this,arguments)}function Jv(){return(Jv=g(function*(t,e=!1){const n=t;return yield dY(n),(yield Kv(n,e)).token})).apply(this,arguments)}function dY(t){return ew.apply(this,arguments)}function ew(){return(ew=g(function*(t){const{registrationPromise:e}=yield Hv(t);e&&(yield e)})).apply(this,arguments)}function rw(t){return ni.create("missing-app-config-values",{valueName:t})}const oO="installations",mY=t=>{const e=t.getProvider("app").getImmediate(),n=function pY(t){if(!t||!t.options)throw rw("App Configuration");if(!t.name)throw rw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw rw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:da(e,"heartbeat"),_delete:()=>Promise.resolve()}},yY=t=>{const n=da(t.getProvider("app").getImmediate(),oO).getImmediate();return{getId:()=>function cY(t){return Xv.apply(this,arguments)}(n),getToken:i=>function lY(t){return Jv.apply(this,arguments)}(n,i)}};(function _Y(){on(new Qt(oO,mY,"PUBLIC")),on(new Qt("installations-internal",yY,"PRIVATE"))})(),qe(H1,xv),qe(H1,xv,"esm2017");const iw="@firebase/remote-config",_n=new br("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xY{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function MY(t=navigator){return t.languages&&t.languages[0]||t.language}class RY{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:MY()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,b)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",b(v)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let b="fetch-client-network";throw"AbortError"===I?.name&&(b="fetch-timeout"),_n.create(b,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let I;try{I=yield h.json()}catch(b){throw _n.create("fetch-client-parse",{originalErrorMessage:b?.message})}m=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw _n.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class OY{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function kY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function NY(t){if(!(t instanceof Wn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+pv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class LY{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yf(t,e){const n=t.target.error||void 0;return _n.create(e,{originalErrorMessage:n&&n?.message})}const xs="app_namespace_store";class $Y{constructor(e,n,r,i=function BY(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(yf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xs,{keyPath:"compositeKey"})}}catch(n){e(_n.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xs],"readonly").objectStore(xs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(yf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(_n.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([xs],"readwrite").objectStore(xs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(yf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(_n.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xs],"readwrite").objectStore(xs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(yf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(_n.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class jY{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function GY(){return cw.apply(this,arguments)}function cw(){return(cw=g(function*(){if(!Ds())return!1;try{return yield bc()}catch{return!1}})).apply(this,arguments)}!function HY(){on(new Qt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _n.create("registration-window");if(!Ds())throw _n.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw _n.create("registration-project-id");if(!o)throw _n.create("registration-api-key");if(!a)throw _n.create("registration-app-id");const u=new $Y(a,r.name,n=n||"firebase"),c=new jY(u),l=new la(iw);l.logLevel=pe.ERROR;const d=new RY(i,ha,n,s,o,a),h=new OY(d,u),f=new xY(h,u,c,l),p=new LY(r,f,c,u,l);return function TY(t){const e=Kt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),qe(iw,"0.4.1"),qe(iw,"0.4.1","esm2017")}();const qY="/firebase-messaging-sw.js",zY="/firebase-cloud-messaging-push-scope",lO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",dO="google.c.a.c_id",KY="google.c.a.c_l",QY="google.c.a.ts",YY="google.c.a.e";var ga=(()=>{return(t=ga||(ga={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ga;var t})();function ri(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ZY(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const lw="fcm_token_details_db",hO="fcm_token_object_Store";function JY(t){return dw.apply(this,arguments)}function dw(){return dw=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(lw))return null;let e=null;return(yield hf(lw,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(hO))return;const c=a.objectStore(hO),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ri(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ri(d.auth),p256dh:ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ri(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ri(d.auth),p256dh:ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ri(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Iv(lw),yield Iv("fcm_vapid_details_db"),yield Iv("undefined"),eZ(e)?e:null;var r}),dw.apply(this,arguments)}function eZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ms="firebase-messaging-store";let hw=null;function fw(){return hw||(hw=hf("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ms)}})),hw}function fO(t){return pw.apply(this,arguments)}function pw(){return(pw=g(function*(t){const e=_w(t),r=yield(yield fw()).transaction(Ms).objectStore(Ms).get(e);if(r)return r;{const i=yield JY(t.appConfig.senderId);if(i)return yield gw(t,i),i}})).apply(this,arguments)}function gw(t,e){return mw.apply(this,arguments)}function mw(){return(mw=g(function*(t,e){const n=_w(t),i=(yield fw()).transaction(Ms,"readwrite");return yield i.objectStore(Ms).put(e,n),yield i.done,e})).apply(this,arguments)}function rZ(t){return yw.apply(this,arguments)}function yw(){return(yw=g(function*(t){const e=_w(t),r=(yield fw()).transaction(Ms,"readwrite");yield r.objectStore(Ms).delete(e),yield r.done})).apply(this,arguments)}function _w({appConfig:t}){return t.appId}const Nt=new br("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sZ(t,e){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(t,e){const n=yield Dw(t),r=gO(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Ew(t.appConfig),i)).json()}catch(o){throw Nt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Nt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Nt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function oZ(t,e){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(t,e){const n=yield Dw(t),r=gO(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Ew(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Nt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Nt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Nt.create("token-update-no-token");return s.token})).apply(this,arguments)}function pO(t,e){return Iw.apply(this,arguments)}function Iw(){return(Iw=g(function*(t,e){const r={method:"DELETE",headers:yield Dw(t)};try{const s=yield(yield fetch(`${Ew(t.appConfig)}/${e}`,r)).json();if(s.error)throw Nt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Nt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Ew({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Dw(t){return bw.apply(this,arguments)}function bw(){return(bw=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function gO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==lO&&(i.web.applicationPubKey=r),i}const aZ=6048e5;function uZ(t){return Cw.apply(this,arguments)}function Cw(){return(Cw=g(function*(t){const e=yield lZ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ri(e.getKey("auth")),p256dh:ri(e.getKey("p256dh"))},r=yield fO(t.firebaseDependencies);if(r){if(dZ(r.subscriptionOptions,n))return Date.now()>=r.createTime+aZ?cZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield pO(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return yO(t.firebaseDependencies,n)}return yO(t.firebaseDependencies,n)})).apply(this,arguments)}function mO(t){return Tw.apply(this,arguments)}function Tw(){return(Tw=g(function*(t){const e=yield fO(t.firebaseDependencies);e&&(yield pO(t.firebaseDependencies,e.token),yield rZ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function cZ(t,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*(t,e){try{const n=yield oZ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield gw(t.firebaseDependencies,r),n}catch(n){throw yield mO(t),n}})).apply(this,arguments)}function yO(t,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=g(function*(t,e){const r={token:yield sZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield gw(t,r),r.token})).apply(this,arguments)}function lZ(t,e){return xw.apply(this,arguments)}function xw(){return(xw=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ZY(e)})})).apply(this,arguments)}function dZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function _O(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function hZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function fZ(t,e){e.data&&(t.data=e.data)}(e,t),function pZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function gZ(t){return"object"==typeof t&&!!t&&dO in t}function vO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Mw(t){return Nt.create("missing-app-config-values",{valueName:t})}vO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function mZ(t){if(!t||!t.options)throw Mw("App Configuration Object");if(!t.name)throw Mw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Mw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function wO(t){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(qY,{scope:zY}),t.swRegistration.update().catch(()=>{})}catch(e){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function _Z(t,e){return kw.apply(this,arguments)}function kw(){return(kw=g(function*(t,e){if(!e&&!t.swRegistration&&(yield wO(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function vZ(t,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=lO)})).apply(this,arguments)}function Ow(){return(Ow=g(function*(t,e){if(!navigator)throw Nt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nt.create("permission-blocked");return yield vZ(t,e?.vapidKey),yield _Z(t,e?.serviceWorkerRegistration),uZ(t)})).apply(this,arguments)}function wZ(t,e,n){return Pw.apply(this,arguments)}function Pw(){return(Pw=g(function*(t,e,n){const r=IZ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[dO],message_name:n[KY],message_time:n[QY],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function IZ(t){switch(t){case ga.NOTIFICATION_CLICKED:return"notification_open";case ga.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Fw(){return(Fw=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ga.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(_O(n)):t.onMessageHandler.next(_O(n)));const r=n.data;gZ(r)&&"1"===r[YY]&&(yield wZ(t,n.messageType,r))})).apply(this,arguments)}const EO="@firebase/messaging",DZ=t=>{const e=new yZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function EZ(t,e){return Fw.apply(this,arguments)}(e,n)),e},bZ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function IO(t,e){return Ow.apply(this,arguments)}(e,r)}};function bO(){return Lw.apply(this,arguments)}function Lw(){return(Lw=g(function*(){try{yield bc()}catch{return!1}return typeof window<"u"&&Ds()&&dv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function CZ(){on(new Qt("messaging",DZ,"PUBLIC")),on(new Qt("messaging-internal",bZ,"PRIVATE")),qe(EO,"0.12.1"),qe(EO,"0.12.1","esm2017")}();const _f="analytics",AZ="firebase_id",RZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",CO="https://www.googletagmanager.com/gtag/js",Ot=new la("@firebase/analytics");function TO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function kZ(t,e){const n=document.createElement("script");n.src=`${CO}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function OZ(t,e,n,r,i,s){return Bw.apply(this,arguments)}function Bw(){return(Bw=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield TO(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ot.error(a)}t("config",i,s)})).apply(this,arguments)}function PZ(t,e,n,r,i){return $w.apply(this,arguments)}function $w(){return($w=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield TO(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ot.error(s)}})).apply(this,arguments)}function VZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(CO)&&n.src.includes(t))return n;return null}const Nn=new br("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),SO=new class jZ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function HZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function GZ(t){return jw.apply(this,arguments)}function jw(){return(jw=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:HZ(r)},s=RZ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function qZ(t){return Hw.apply(this,arguments)}function Hw(){return(Hw=g(function*(t,e=SO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new KZ;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),AO({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function AO(t,e,n){return Gw.apply(this,arguments)}function Gw(){return(Gw=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=SO){var s;const{appId:o,measurementId:a}=t;try{yield zZ(r,e)}catch(u){if(a)return Ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield GZ(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!WZ(c)){if(i.deleteThrottleMetadata(o),a)return Ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?pv(n,i.intervalMillis,30):pv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ot.debug(`Calling attemptFetch again in ${l} millis`),AO(t,d,r,i)}})).apply(this,arguments)}function zZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WZ(t){if(!(t instanceof Wn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class KZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let qw,Zw;function zw(){return(zw=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function xO(t){Zw=t}function MO(t){qw=t}function eX(){return Xw.apply(this,arguments)}function Xw(){return(Xw=g(function*(){if(!Ds())return Ot.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield bc()}catch(t){return Ot.warn(Nn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Jw(){return(Jw=g(function*(t,e,n,r,i,s,o){var a;const u=qZ(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Ot.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ot.error(f)),e.push(u);const c=eX().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);VZ(s)||kZ(s,l.measurementId),Zw&&(i("consent","default",Zw),xO(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[AZ]=d),i("config",l.measurementId,h),qw&&(i("set",qw),MO(void 0)),l.measurementId})).apply(this,arguments)}class nX{constructor(e){this.app=e}_delete(){return delete ii[this.app.options.appId],Promise.resolve()}}let ii={},RO=[];const kO={};let OO,si,vf="dataLayer",eI=!1;function iX(t,e,n){!function rX(){const t=[];if(lv()&&t.push("This is a browser extension environment."),dv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Nn.create("invalid-analytics-context",{errorInfo:e});Ot.warn(n.message)}}();const r=t.options.appId;if(!r)throw Nn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Nn.create("no-api-key");Ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ii[r])throw Nn.create("already-exists",{id:r});if(!eI){!function NZ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(vf);const{wrappedGtag:s,gtagCore:o}=function LZ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function FZ(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield PZ(t,e,n,a,u):"config"===o?yield OZ(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Ot.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ii,RO,kO,vf,"gtag");si=s,OO=o,eI=!0}return ii[r]=function tX(t,e,n,r,i,s,o){return Jw.apply(this,arguments)}(t,RO,kO,e,OO,vf,n),new nX(t)}function oX(){return tI.apply(this,arguments)}function tI(){return(tI=g(function*(){if(lv()||!dv()||!Ds())return!1;try{return yield bc()}catch{return!1}})).apply(this,arguments)}const PO="@firebase/analytics";!function uX(){on(new Qt(_f,(e,{options:n})=>iX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),on(new Qt("analytics-internal",function t(e){try{const n=e.getProvider(_f).getImmediate();return{logEvent:(r,i,s)=>function aX(t,e,n,r){t=Kt(t),function QZ(t,e,n,r,i){return zw.apply(this,arguments)}(si,ii[t.app.options.appId],e,n,r).catch(i=>Ot.error(i))}(n,r,i,s)}}catch(n){throw Nn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),qe(PO,"0.9.1"),qe(PO,"0.9.1","esm2017")}();class cX extends bn{constructor(e,n){super()}schedule(e,n=0){return this}}const wf={setInterval(t,e,...n){const{delegate:r}=wf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=wf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class LO extends cX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return wf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&wf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ho(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const VO={now:()=>(VO.delegate||Date).now(),delegate:void 0};class xc{constructor(e,n=xc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}xc.now=VO.now;class UO extends xc{constructor(e,n=xc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const hX=new class dX extends UO{}(class lX extends LO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),fX=new UO(LO),If=new No("7.5.0"),nI="__angularfire_symbol__analyticsIsSupportedValue",rI="__angularfire_symbol__analyticsIsSupported",iI="__angularfire_symbol__remoteConfigIsSupportedValue",sI="__angularfire_symbol__remoteConfigIsSupported",oI="__angularfire_symbol__messagingIsSupportedValue",aI="__angularfire_symbol__messagingIsSupported";function cI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[rI]||(globalThis[rI]=oX().then(t=>globalThis[nI]=t).catch(()=>globalThis[nI]=!1)),globalThis[aI]||(globalThis[aI]=bO().then(t=>globalThis[oI]=t).catch(()=>globalThis[oI]=!1)),globalThis[sI]||(globalThis[sI]=GY().then(t=>globalThis[iI]=t).catch(()=>globalThis[iI]=!1));const lI=(t,e)=>{const n=e?[e]:L1(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ma(){}class BO{constructor(e,n=hX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class pX{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ma,{},ma,ma)),n.pipe(Rt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dI=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new BO(Zone.current)),this.insideAngular=n.run(()=>new BO(Zone.current,fX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(U(Fe))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Rs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function gX(t){return Rs().ngZone.runOutsideAngular(()=>t())}function ks(t){return Rs().ngZone.run(()=>t())}function mX(t){return Rs(),function yX(t){return function(n){return(n=n.lift(new pX(t.ngZone))).pipe(ad(t.outsideAngular),od(t.insideAngular))}}(Rs())(t)}const _X=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ks(()=>t.apply(void 0,r))},oi=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ma,{},ma,ma)))),r[s]=_X(r[s],n));const i=gX(()=>t.apply(this,r));if(!e){if(i instanceof Oe){const s=Rs();return i.pipe(ad(s.outsideAngular),od(s.insideAngular))}return ks(()=>i)}return i instanceof Oe?i.pipe(mX):i instanceof Promise?ks(()=>new Promise((s,o)=>i.then(a=>ks(()=>s(a)),a=>ks(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ks(()=>i)};class ya{constructor(e){return e}}class hI{constructor(){return L1()}}const fI=new L("angularfire2._apps"),wX={provide:ya,useFactory:function vX(t){return t&&1===t.length?t[0]:new ya(bv())},deps:[[new qt,fI]]},IX={provide:hI,deps:[[new qt,fI]]};function EX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ya(r)}}let DX=(()=>{class t{constructor(n){qe("angularfire",If.full,"core"),qe("angularfire",If.full,"app"),qe("angular",AA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(U(ph))},t.\u0275mod=$t({type:t}),t.\u0275inj=St({providers:[wX,IX]}),t})();const CX=oi(F1,!0),pI=new Map,$O={activated:!1,tokenObservers:[]},TX={initialized:!1,enabled:!1};function Pt(t){return pI.get(t)||Object.assign({},$O)}function Ef(){return TX}class kX{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new uf,yield function NX(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new uf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const an=new br("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function HO(t){if(!Pt(t).activated)throw an.create("use-before-activation",{appName:t.name})}function yI(t,e){return _I.apply(this,arguments)}function _I(){return(_I=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw an.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw an.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw an.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw an.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function LX(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Mc="firebase-app-check-store";let Cf=null;function qO(){return Cf||(Cf=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(an.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Mc,{keyPath:"compositeKey"})}}catch(n){e(an.create("storage-open",{originalErrorMessage:n?.message}))}}),Cf)}function vI(){return(vI=g(function*(t,e){const r=(yield qO()).transaction(Mc,"readwrite"),s=r.objectStore(Mc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(an.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Rc=new la("@firebase/app-check");function EI(t,e){return Ds()?function $X(t,e){return function zO(t,e){return vI.apply(this,arguments)}(function KO(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Rc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function QO(){return Ef().enabled}function YO(){return bI.apply(this,arguments)}function bI(){return(bI=g(function*(){const t=Ef();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const WX={error:"UNKNOWN_ERROR"};function KX(t){return cv.encodeString(JSON.stringify(t),!1)}function Tf(t){return CI.apply(this,arguments)}function CI(){return(CI=g(function*(t,e=!1){const n=t.app;HO(n);const r=Pt(n);let s,i=r.token;if(i&&!_a(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(_a(u)?i=u:yield EI(n,void 0))}if(!e&&i&&_a(i))return{token:i.token};let a,o=!1;if(QO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yI(LX(n,yield YO()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield EI(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Pt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Rc.warn(u.message):Rc.error(u),s=u}return i?s?a=_a(i)?{token:i.token,internalError:s}:JO(s):(a={token:i.token},r.token=i,yield EI(n,i)):a=JO(s),o&&XO(n,a),a})).apply(this,arguments)}function SI(t,e){const n=Pt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function ZO(t){const{app:e}=t,n=Pt(e);let r=n.tokenRefresher;r||(r=function QX(t){const{app:e}=t;return new kX(g(function*(){let r;if(r=Pt(e).token?yield Tf(t,!0):yield Tf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Pt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function XO(t,e){const n=Pt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function _a(t){return t.expireTimeMillis-Date.now()>0}function JO(t){return{token:KX(WX),error:t}}class YX{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Pt(this.app);for(const n of e)SI(this.app,n.next);return Promise.resolve()}}const aP="app-check-internal";!function lJ(){on(new Qt("app-check",t=>function ZX(t,e){return new YX(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(aP).initialize()})),on(new Qt(aP,t=>function XX(t){return{getToken:e=>Tf(t,e),addTokenListener:e=>function TI(t,e,n,r){const{app:i}=t,s=Pt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&_a(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),ZO(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>ZO(t))}(t,"INTERNAL",e),removeTokenListener:e=>SI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),qe("@firebase/app-check","0.6.1")}();class RI{constructor(){return lI("app-check")}}typeof window<"u"&&window;const gJ=function cP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lP=new br("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dP=new la("@firebase/auth");function Af(t,...e){dP.logLevel<=pe.ERROR&&dP.error(`Auth (${ha}): ${t}`,...e)}function vn(t,...e){throw NI(t,...e)}function Cr(t,...e){return NI(t,...e)}function hP(t,e,n){const r=Object.assign(Object.assign({},gJ()),{[e]:n});return new br("auth","Firebase",r).create(e,{appName:t.name})}function NI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lP.create(t,...e)}function A(t,e,...n){if(!t)throw NI(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Af(e),new Error(e)}function Mi(t,e){t||Tr(e)}const fP=new Map;function ai(t){Mi(t instanceof Function,"Expected a class definition");let e=fP.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fP.set(t,e),e)}function kc(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function pP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Nc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=function h9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}()||function p9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function _J(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function OI(){return"http:"===pP()||"https:"===pP()}()||lv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function PI(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},IJ=new Nc(3e4,6e4);function pt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function It(t,e,n,r){return FI.apply(this,arguments)}function FI(){return(FI=g(function*(t,e,n,r,i={}){return mP(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=df(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),gP.fetch()(yP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function mP(t,e,n){return LI.apply(this,arguments)}function LI(){return(LI=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wJ),e);try{const i=new EJ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Oc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Oc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Oc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Oc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hP(t,l,c);vn(t,l)}}catch(i){if(i instanceof Wn)throw i;vn(t,"network-request-failed")}})).apply(this,arguments)}function ui(t,e,n,r){return VI.apply(this,arguments)}function VI(){return(VI=g(function*(t,e,n,r,i={}){const s=yield It(t,e,n,r,i);return"mfaPendingCredential"in s&&vn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function yP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?PI(t.config,i):`${t.config.apiScheme}://${i}`}class EJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),IJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}function UI(){return(UI=g(function*(t,e){return It(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function CJ(t,e){return $I.apply(this,arguments)}function $I(){return($I=g(function*(t,e){return It(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jI(){return(jI=g(function*(t,e=!1){const n=Kt(t),r=yield n.getIdToken(e),i=xf(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Pc(HI(i.auth_time)),issuedAtTime:Pc(HI(i.iat)),expirationTime:Pc(HI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function HI(t){return 1e3*Number(t)}function xf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const i=sf(n);return i?JSON.parse(i):(Af("Failed to decode base64 JWT payload"),null)}catch(i){return Af("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ci(t,e){return GI.apply(this,arguments)}function GI(){return(GI=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Wn&&AJ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function AJ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class xJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class _P{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fc(t){return qI.apply(this,arguments)}function qI(){return(qI=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ci(t,CJ(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?kJ(s.providerUserInfo):[],a=RJ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _P(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function zI(){return(zI=g(function*(t){const e=Kt(t);yield Fc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function RJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kJ(t){return t.map(e=>{var{providerId:n}=e,r=uT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function WI(){return(WI=g(function*(t,e){const n=yield mP(t,{},g(function*(){const r=df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function SJ(t){const e=xf(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function NJ(t,e){return WI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Lc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lc,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function Ri(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _P(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield ci(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function TJ(t){return jI.apply(this,arguments)}(this,e)}reload(){return function MJ(t){return zI.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Fc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield ci(e,function DJ(t,e){return UI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,b=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:k,isAnonymous:V,providerData:$,stsTokenManager:tt}=n;A(v&&tt,e,"internal-error");const lo=Lc.fromJSON(this.name,tt);A("string"==typeof v,e,"internal-error"),Ri(d,e.name),Ri(h,e.name),A("boolean"==typeof k,e,"internal-error"),A("boolean"==typeof V,e,"internal-error"),Ri(f,e.name),Ri(p,e.name),Ri(m,e.name),Ri(y,e.name),Ri(I,e.name),Ri(b,e.name);const Y0=new Ns({uid:v,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:lo,createdAt:I,lastLoginAt:b});return $&&Array.isArray($)&&(Y0.providerData=$.map(lue=>Object.assign({},lue))),y&&(Y0._redirectEventId=y),Y0}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Lc;i.updateFromServerResponse(n);const s=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Fc(s),s})()}}const vP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Mf(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ns._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new wa(ai(vP),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ai(vP);const o=Mf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Ns._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new wa(s,e,r)):new wa(s,e,r)})()}}function wP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CP(e))return"Blackberry";if(TP(e))return"Webos";if(KI(e))return"Safari";if((e.includes("chrome/")||EP(e))&&!e.includes("edge/"))return"Chrome";if(bP(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function IP(t=wt()){return/firefox\//i.test(t)}function KI(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EP(t=wt()){return/crios\//i.test(t)}function DP(t=wt()){return/iemobile/i.test(t)}function bP(t=wt()){return/android/i.test(t)}function CP(t=wt()){return/blackberry/i.test(t)}function TP(t=wt()){return/webos/i.test(t)}function Rf(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SP(t=wt()){return Rf(t)||bP(t)||TP(t)||CP(t)||/windows phone/i.test(t)||DP(t)}function AP(t,e=[]){let n;switch(t){case"Browser":n=wP(wt());break;case"Worker":n=`${wP(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${r}`}class LJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class VJ{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xP(this),this.idTokenSubscription=new xP(this),this.beforeStateQueue=new LJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield wa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Fc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function vJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Kt(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(ai(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&ai(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield wa.create(n,[ai(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function wn(t){return Kt(t)}class xP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function w9(t,e){const n=new I9(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function MP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class kP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}function YI(){return(YI=g(function*(t,e){return It(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function XI(){return(XI=g(function*(t,e){return ui(t,"POST","/v1/accounts:signInWithPassword",pt(t,e))})).apply(this,arguments)}function iE(){return(iE=g(function*(t,e){return ui(t,"POST","/v1/accounts:signInWithEmailLink",pt(t,e))})).apply(this,arguments)}function sE(){return(sE=g(function*(t,e){return ui(t,"POST","/v1/accounts:signInWithEmailLink",pt(t,e))})).apply(this,arguments)}class Vc extends kP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function HJ(t,e){return XI.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function KJ(t,e){return iE.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:vn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function OP(t,e){return YI.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function QJ(t,e){return sE.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:vn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function li(t,e){return oE.apply(this,arguments)}function oE(){return(oE=g(function*(t,e){return ui(t,"POST","/v1/accounts:signInWithIdp",pt(t,e))})).apply(this,arguments)}class $c{constructor(e){var n,r,i,s,o,a;const u=Cc(Tc(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function nee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function ree(t){const e=Cc(Tc(t)).link,n=e?Cc(Tc(e)).deep_link_id:null,r=Cc(Tc(t)).deep_link_id;return(r?Cc(Tc(r)).link:null)||r||n||e||t}(e);try{return new $c(n)}catch{return null}}}let PP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Vc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=$c.parseLink(r);return A(i,"argument-error"),Vc._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ki{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iee extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function FP(t,e){return hE.apply(this,arguments)}function hE(){return(hE=g(function*(t,e){return ui(t,"POST","/v1/accounts:signUp",pt(t,e))})).apply(this,arguments)}class Kn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Ns._fromIdTokenResponse(e,r,i),o=LP(r);return new Kn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=LP(r);return new Kn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function LP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Of extends Wn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Of(e,n,r,i)}}function VP(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Of._fromErrorAndOperation(t,s,e,r):s})}function gE(t,e){return mE.apply(this,arguments)}function mE(){return(mE=g(function*(t,e,n=!1){const r=yield ci(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Kn._forOperation(t,"link",r)})).apply(this,arguments)}function _E(){return(_E=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ci(t,VP(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=xf(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),Kn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&vn(r,"user-mismatch"),s}})).apply(this,arguments)}function $P(t,e){return vE.apply(this,arguments)}function vE(){return(vE=g(function*(t,e,n=!1){const r="signIn",i=yield VP(t,r,e),s=yield Kn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function IE(){return(IE=g(function*(t,e){return $P(wn(t),e)})).apply(this,arguments)}function dee(t,e,n){return NE.apply(this,arguments)}function NE(){return(NE=g(function*(t,e,n){const r=wn(t),i=yield FP(r,{returnSecureToken:!0,email:e,password:n}),s=yield Kn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function hee(t,e,n){return function wE(t,e){return IE.apply(this,arguments)}(Kt(t),PP.credential(e,n))}function HP(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function Iee(t){return Kt(t).signOut()}const Lf="__sak";class GP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Aee=(()=>{class t extends GP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cee(){const t=wt();return KI(t)||Rf(t)}()&&function FJ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=SP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function PJ(){return function g9(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),qP=(()=>{class t extends GP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Mee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function xee(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function KE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Ree{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=KE("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function gt(){return window}function QE(){return typeof gt().WorkerGlobalScope<"u"&&"function"==typeof gt().importScripts}function YE(){return(YE=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zP="firebaseLocalStorageDb",Vf="firebaseLocalStorage",WP="fbase_key";class Hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(t,e){return t.transaction([Vf],e?"readwrite":"readonly").objectStore(Vf)}function ZE(){const t=indexedDB.open(zP,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vf,{keyPath:WP})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Vf)?e(r):(r.close(),yield function Lee(){const t=indexedDB.deleteDatabase(zP);return new Hc(t).toPromise()}(),e(yield ZE()))}))})}function KP(t,e,n){return XE.apply(this,arguments)}function XE(){return(XE=g(function*(t,e,n){const r=Uf(t,!0).put({[WP]:e,value:n});return new Hc(r).toPromise()})).apply(this,arguments)}function JE(){return(JE=g(function*(t,e){const n=Uf(t,!1).get(e),r=yield new Hc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function QP(t,e){const n=Uf(t,!0).delete(e);return new Hc(n).toPromise()}const $ee=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield ZE()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return QE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Mee._getInstance(function Pee(){return QE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Nee(){return YE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Ree(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Oee(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield ZE();return yield KP(n,Lf,"1"),yield QP(n,Lf),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>KP(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Vee(t,e){return JE.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>QP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Uf(o,!1).getAll();return new Hc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function ZP(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Ps(t,e){return e?ai(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}ZP("rcb"),new Nc(3e4,6e4);class cD extends kP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return li(e,this._buildIdpRequest())}_linkToIdToken(e,n){return li(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return li(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ite(t){return $P(t.auth,new cD(t),t.bypassAuthState)}function ste(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function BP(t,e){return _E.apply(this,arguments)}(n,new cD(t),t.bypassAuthState)}function ote(t){return lD.apply(this,arguments)}function lD(){return(lD=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),gE(n,new cD(t),t.bypassAuthState)})).apply(this,arguments)}class ate{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ite;case"linkViaPopup":case"linkViaRedirect":return ote;case"reauthViaPopup":case"reauthViaRedirect":return ste;default:vn(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Nc(2e3,1e4);const Gc=new Map;class cte extends ate{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Gc.get(n.auth._key());if(!r){try{const s=(yield function lte(t,e){return gD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Gc.set(n.auth._key(),r)}return n.bypassAuthState||Gc.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function gD(){return(gD=g(function*(t,e){const n=eF(e),r=JP(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function dte(t,e){Gc.set(t._key(),e)}function JP(t){return ai(t._redirectPersistence)}function eF(t){return Mf("pendingRedirect",t.config.apiKey,t.name)}function tF(t,e){return ED.apply(this,arguments)}function ED(){return(ED=g(function*(t,e,n=!1){const r=wn(t),i=Ps(r,e),o=yield new cte(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class mte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function yte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iF(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rF(e))}saveEventToCache(e){this.cachedEventUids.add(rF(e)),this.lastProcessedEventTime=Date.now()}}function rF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iF({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function _te(t){return bD.apply(this,arguments)}function bD(){return(bD=g(function*(t,e={}){return It(t,"GET","/v1/projects",e)})).apply(this,arguments)}const vte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wte=/^https?/;function CD(){return(CD=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield _te(t);for(const n of e)try{if(Ete(n))return}catch{}vn(t,"unauthorized-domain")})).apply(this,arguments)}function Ete(t){const e=kc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!wte.test(n))return!1;if(vte.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Dte=new Nc(3e4,6e4);function sF(){const t=gt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let $f=null;function Cte(t){return $f=$f||function bte(t){return new Promise((e,n)=>{var r,i,s;function o(){sF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sF(),n(Cr(t,"network-request-failed"))},timeout:Dte.get()})}if(null!==(i=null===(r=gt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=gt().gapi)||void 0===s||!s.load){const a=ZP("iframefcb");return gt()[a]=()=>{gapi.load?o():n(Cr(t,"network-request-failed"))},function YP(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function qee(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw $f=null,e})}(t),$f}const Tte=new Nc(5e3,15e3),xte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rte(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?PI(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:ha},i=Mte.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${df(r).slice(1)}`}function TD(){return TD=g(function*(t){const e=yield Cte(t),n=gt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:Rte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xte,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Cr(t,"network-request-failed"),u=gt().setTimeout(()=>{o(a)},Tte.get());function c(){gt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),TD.apply(this,arguments)}const Nte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aF(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ha,eventId:i};if(e instanceof ki){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function v9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof iee){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function jte({config:t}){return t.emulator?PI(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${df(a).slice(1)}`}const SD="webStorageSupport",Gte=class Hte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qP,this._completeRedirectFn=tF,this._overrideRedirectResult=dte}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Mi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=aF(e,n,r,kc(),i);return function Vte(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Nte),{width:r.toString(),height:i.toString(),top:s,left:o}),c=wt().toLowerCase();n&&(a=EP(c)?"_blank":n),IP(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function OJ(t=wt()){var e;return Rf(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Ute(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new oF(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new oF(d)}(e,a,KE())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function kee(t){gt().location.href=t}(aF(e,n,r,kc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Mi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function kte(t){return TD.apply(this,arguments)}(e),i=new mte(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(SD,{type:SD},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[SD];void 0!==o&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Ite(t){return CD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SP()||KI()||Rf()}};var cF="@firebase/auth";class qte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Qte=T1("authIdTokenMaxAge")||300;let dF=null;const Yte=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Qte)return;const s=r?.token;dF!==s&&(dF=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Zte(t=bv()){const e=da(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function mJ(t,e){const n=da(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(lf(n.getOptions(),e??{}))return i;vn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Gte,persistence:[$ee,Aee,qP]}),r=T1("authTokenSyncURL");if(r){const s=Yte(r);(function wee(t,e,n){Kt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),HP(n,o=>s(o))}const i=C1("auth");return i&&function UJ(t,e,n){const r=wn(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=MP(e),{host:o,port:a}=function BJ(t){const e=MP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:RP(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:RP(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function $J(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function hF(t){return new Oe(function(e){return{unsubscribe:HP(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function Wte(t){on(new Qt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AP(t)},l=new VJ(a,u,c);return function yJ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),on(new Qt("auth-internal",e=>{const n=wn(e.getProvider("auth").getImmediate());return new qte(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(cF,"0.21.1",function zte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),qe(cF,"0.21.1","esm2017")}("Browser");class qc{constructor(e){return e}}class pF{constructor(){return lI("auth")}}const AD=new L("angularfire2.auth-instances");function Jte(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qc(r)}}const ene={provide:pF,deps:[[new qt,AD]]},tne={provide:qc,useFactory:function Xte(t,e){const n=cI("auth",t,e);return n&&new qc(n)},deps:[[new qt,AD],ya]};let nne=(()=>{class t{constructor(){qe("angularfire",If.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=St({providers:[tne,ene]}),t})();const ine=oi(hF,!0),sne=oi(dee,!0),one=oi(Zte,!0),ane=oi(hee,!0),une=oi(Iee,!0);var F,cne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={},xD=xD||{},Q=cne||self;function jf(){}function Hf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function zc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var MD="closure_uid_"+(1e9*Math.random()>>>0),dne=0;function hne(t,e,n){return t.call.apply(t.bind,arguments)}function fne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hne:fne).apply(null,arguments)}function Gf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ni(){this.s=this.s,this.o=this.o}Ni.prototype.s=!1,Ni.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function lne(t){Object.prototype.hasOwnProperty.call(t,MD)&&t[MD]||(t[MD]=++dne)}(this)},Ni.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function RD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var gne=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",jf,e),Q.removeEventListener("test",jf,e)}catch{}return t}();function qf(t){return/^[\s\xa0]*$/.test(t)}var yF=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function kD(t,e){return t<e?-1:t>e?1:0}function zf(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return-1!=zf().indexOf(t)}function ND(t){return ND[" "](t),t}ND[" "]=jf;var Wf,t,yne=Sr("Opera"),Ia=Sr("Trident")||Sr("MSIE"),_F=Sr("Edge"),OD=_F||Ia,vF=Sr("Gecko")&&!(-1!=zf().toLowerCase().indexOf("webkit")&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),_ne=-1!=zf().toLowerCase().indexOf("webkit")&&!Sr("Edge");function wF(){var t=Q.document;return t?t.documentMode:void 0}e:{var PD="",FD=(t=zf(),vF?/rv:([^\);]+)(\)|;)/.exec(t):_F?/Edge\/([\d\.]+)/.exec(t):Ia?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):_ne?/WebKit\/(\S+)/.exec(t):yne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(FD&&(PD=FD?FD[1]:""),Ia){var LD=wF();if(null!=LD&&LD>parseFloat(PD)){Wf=String(LD);break e}}Wf=PD}var vne={};var Ine=Q.document&&Ia&&(wF()||parseInt(Wf,10))||void 0;function Wc(t,e){if(Zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(vF){e:{try{ND(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ene[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wc.X.h.call(this)}}Ft(Wc,Zt);var Ene={2:"touch",3:"pen",4:"mouse"};Wc.prototype.h=function(){Wc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kc="closure_listenable_"+(1e6*Math.random()|0),Dne=0;function bne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Dne,this.ba=this.ea=!1}function Kf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function UD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function EF(t){const e={};for(const n in t)e[n]=t[n];return e}const DF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bF(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<DF.length;s++)n=DF[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qf(t){this.src=t,this.g={},this.h=0}function BD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=gF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Kf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function $D(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}Qf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=$D(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new bne(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var jD="closure_lm_"+(1e6*Math.random()|0),HD={};function CF(t,e,n,r,i){if(r&&r.once)return SF(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)CF(t,e[s],n,r,i);return null}return n=WD(n),t&&t[Kc]?t.N(e,n,zc(r)?!!r.capture:!!r,i):TF(t,e,n,!1,r,i)}function TF(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zc(i)?!!i.capture:!!i,a=qD(t);if(a||(t[jD]=a=new Qf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Cne(){const e=Tne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gne||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xF(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function SF(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)SF(t,e[s],n,r,i);return null}return n=WD(n),t&&t[Kc]?t.O(e,n,zc(r)?!!r.capture:!!r,i):TF(t,e,n,!0,r,i)}function AF(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)AF(t,e[s],n,r,i);else r=zc(r)?!!r.capture:!!r,n=WD(n),t&&t[Kc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=$D(s=t.g[e],n,r,i))&&(Kf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=qD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$D(e,n,r,i)),(n=-1<t?e[t]:null)&&GD(n))}function GD(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Kc])BD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xF(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qD(e))?(BD(n,t),0==n.h&&(n.src=null,e[jD]=null)):Kf(t)}}}function xF(t){return t in HD?HD[t]:HD[t]="on"+t}function Tne(t,e){if(t.ba)t=!0;else{e=new Wc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&GD(t),t=n.call(r,e)}return t}function qD(t){return(t=t[jD])instanceof Qf?t:null}var zD="__closure_events_fn_"+(1e9*Math.random()>>>0);function WD(t){return"function"==typeof t?t:(t[zD]||(t[zD]=function(e){return t.handleEvent(e)}),t[zD])}function Et(){Ni.call(this),this.i=new Qf(this),this.P=this,this.I=null}function Lt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Zt(e,t);else if(e instanceof Zt)e.target=e.target||t;else{var i=e;bF(e=new Zt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Yf(o,r,!0,e)&&i}if(i=Yf(o=e.g=t,r,!0,e)&&i,i=Yf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Yf(o=e.g=n[s],r,!1,e)&&i}function Yf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&BD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ft(Et,Ni),Et.prototype[Kc]=!0,Et.prototype.removeEventListener=function(t,e,n,r){AF(this,t,e,n,r)},Et.prototype.M=function(){if(Et.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kf(n[r]);delete t.g[e],t.h--}}this.I=null},Et.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var KD=Q.JSON.stringify;function Sne(){var t=kF;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var QD,MF=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new xne,t=>t.reset());class xne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Mne(t){Q.setTimeout(()=>{throw t},0)}function RF(t,e){QD||function Rne(){var t=Q.Promise.resolve(void 0);QD=function(){t.then(kne)}}(),YD||(QD(),YD=!0),kF.add(t,e)}var YD=!1,kF=new class Ane{constructor(){this.h=this.g=null}add(e,n){const r=MF.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function kne(){for(var t;t=Sne();){try{t.h.call(t.g)}catch(n){Mne(n)}var e=MF;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}YD=!1}function Zf(t,e){Et.call(this),this.h=t||1,this.g=e||Q,this.j=Yt(this.lb,this),this.l=Date.now()}function ZD(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function XD(t,e,n){if("function"==typeof t)n&&(t=Yt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Yt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function NF(t){t.g=XD(()=>{t.g=null,t.i&&(t.i=!1,NF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ft(Zf,Et),(F=Zf.prototype).ca=!1,F.R=null,F.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Lt(this,"tick"),this.ca&&(ZD(this),this.start()))}},F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.M=function(){Zf.X.M.call(this),ZD(this),delete this.g};class Nne extends Ni{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NF(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qc(t){Ni.call(this),this.h=t,this.g={}}Ft(Qc,Ni);var OF=[];function PF(t,e,n,r){Array.isArray(n)||(n&&(OF[0]=n.toString()),n=OF);for(var i=0;i<n.length;i++){var s=CF(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function FF(t){UD(t.g,function(e,n){this.g.hasOwnProperty(n)&&GD(e)},t),t.g={}}function Xf(){this.g=!0}function Ea(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Lne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return KD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Qc.prototype.M=function(){Qc.X.M.call(this),FF(this)},Qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xf.prototype.Aa=function(){this.g=!1},Xf.prototype.info=function(){};var Fs={},LF=null;function Jf(){return LF=LF||new Et}function VF(t){Zt.call(this,Fs.Pa,t)}function Yc(t){const e=Jf();Lt(e,new VF(e))}function UF(t,e){Zt.call(this,Fs.STAT_EVENT,t),this.stat=e}function un(t){const e=Jf();Lt(e,new UF(e,t))}function BF(t,e){Zt.call(this,Fs.Qa,t),this.size=e}function Zc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Fs.Pa="serverreachability",Ft(VF,Zt),Fs.STAT_EVENT="statevent",Ft(UF,Zt),Fs.Qa="timingevent",Ft(BF,Zt);var ep={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},$F={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function JD(){}function HF(){}JD.prototype.h=null;var nb,Xc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function eb(){Zt.call(this,"d")}function tb(){Zt.call(this,"c")}function tp(){}function Jc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Qc(this),this.O=Vne,this.T=new Zf(t=OD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new GF}function GF(){this.i=null,this.g="",this.h=!1}Ft(eb,Zt),Ft(tb,Zt),Ft(tp,JD),tp.prototype.g=function(){return new XMLHttpRequest},tp.prototype.i=function(){return{}},nb=new tp;var Vne=45e3,rb={},np={};function ib(t,e,n){t.K=1,t.v=op(hi(e)),t.s=n,t.P=!0,qF(t,null)}function qF(t,e){t.F=Date.now(),el(t),t.A=hi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),tL(n.i,"t",r),t.C=0,n=t.l.H,t.h=new GF,t.g=CL(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Nne(Yt(t.La,t,t.g),t.N)),PF(t.S,t.g,"readystatechange",t.ib),e=t.H?EF(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Yc(),function One(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function zF(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function WF(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Une(t,n),i==np){4==e&&(t.o=4,un(14),r=!1),Ea(t.j,t.m,null,"[Incomplete Response]");break}if(i==rb){t.o=4,un(15),Ea(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ea(t.j,t.m,i,null),sb(t,i)}zF(t)&&i!=np&&i!=rb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),fb(e),e.K=!0,un(11))):(Ea(t.j,t.m,n,"[Invalid Chunked Response]"),Ls(t),tl(t))}function Une(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?np:(n=Number(e.substring(n,r)),isNaN(n)?rb:(r+=1)+n>e.length?np:(e=e.substr(r,n),t.C=r+n,e))}function el(t){t.V=Date.now()+t.O,KF(t,t.O)}function KF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Zc(Yt(t.gb,t),e)}function rp(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function tl(t){0==t.l.G||t.I||IL(t.l,t)}function Ls(t){rp(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ZD(t.T),FF(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function sb(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ob(n.h,t)))if(!t.J&&ob(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;hp(n),lp(n)}hb(n),un(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Zc(Yt(n.cb,n),6e3));if(1>=iL(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Us(n,11)}else if((t.J||n.g==t)&&hp(n),!qf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ab(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Le(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=bL(r,r.H?r.ka:null,r.V),o.J){sL(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(rp(a),el(a)),r.g=o}else vL(r);0<n.i.length&&dp(n)}else"stop"!=c[0]&&"close"!=c[0]||Us(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Us(n,7):db(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Yc()}catch{}}function QF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Hf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function $ne(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Bne(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Hf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(F=Jc.prototype).setTimeout=function(t){this.O=t},F.ib=function(t){t=t.target;const e=this.L;e&&3==fi(t)?e.l():this.La(t)},F.La=function(t){try{if(t==this.g)e:{const l=fi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||OD||this.g&&(this.h.h||this.g.fa()||fL(this.g)))){this.I||4!=l||7==e||Yc(),rp(this);var n=this.g.aa();this.Y=n;t:if(zF(this)){var r=fL(this.g);t="";var i=r.length,s=4==fi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),tl(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function Pne(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,un(12),Ls(this),tl(this);break e}Ea(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sb(this,n)}this.P?(WF(this,l,o),OD&&this.i&&3==l&&(PF(this.S,this.T,"tick",this.hb),this.T.start())):(Ea(this.j,this.m,o,null),sb(this,o)),4==l&&Ls(this),this.i&&!this.I&&(4==l?IL(this.l,this):(this.i=!1,el(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),Ls(this),tl(this)}}}catch{}},F.hb=function(){if(this.g){var t=fi(this.g),e=this.g.fa();this.C<e.length&&(rp(this),WF(this,t,e),this.i&&4!=t&&el(this))}},F.cancel=function(){this.I=!0,Ls(this)},F.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function Fne(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Yc(),un(17)),Ls(this),this.o=2,tl(this)):KF(this,this.V-t)};var YF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vs){this.h=void 0!==e?e:t.h,ip(this,t.j),this.s=t.s,this.g=t.g,sp(this,t.m),this.l=t.l,e=t.i;var n=new il;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ZF(this,n),this.o=t.o}else t&&(n=String(t).match(YF))?(this.h=!!e,ip(this,n[1]||"",!0),this.s=nl(n[2]||""),this.g=nl(n[3]||"",!0),sp(this,n[4]),this.l=nl(n[5]||"",!0),ZF(this,n[6]||"",!0),this.o=nl(n[7]||"")):(this.h=!!e,this.i=new il(null,this.h))}function hi(t){return new Vs(t)}function ip(t,e,n){t.j=n?nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ZF(t,e,n){e instanceof il?(t.i=e,function Kne(t,e){e&&!t.j&&(Oi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(JF(this,r),tL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=rl(e,zne)),t.i=new il(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function op(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hne(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Vs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rl(e,XF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(rl(e,XF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(rl(n,"/"==n.charAt(0)?qne:Gne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rl(n,Wne)),t.join("")};var XF=/[#\/\?@]/g,Gne=/[#\?:]/g,qne=/[#\?]/g,zne=/[#\?@]/g,Wne=/#/g;function il(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oi(t){t.g||(t.g=new Map,t.h=0,t.i&&function jne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function JF(t,e){Oi(t),e=Da(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function eL(t,e){return Oi(t),e=Da(t,e),t.g.has(e)}function tL(t,e,n){JF(t,e),0<n.length&&(t.i=null,t.g.set(Da(t,e),RD(n)),t.h+=n.length)}function Da(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function nL(t){this.l=t||Yne,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=il.prototype).add=function(t,e){Oi(this),this.i=null,t=Da(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},F.forEach=function(t,e){Oi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},F.oa=function(){Oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},F.W=function(t){Oi(this);let e=[];if("string"==typeof t)eL(this,t)&&(e=e.concat(this.g.get(Da(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},F.set=function(t,e){return Oi(this),this.i=null,eL(this,t=Da(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},F.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Yne=10;function rL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function iL(t){return t.h?1:t.g?t.g.size:0}function ob(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ab(t,e){t.g?t.g.add(e):t.h=e}function sL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function oL(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return RD(t.i)}function ub(){}function Zne(){this.g=new ub}function Xne(t,e,n){const r=n||"";try{QF(t,function(i,s){let o=i;zc(i)&&(o=KD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ap(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sl(t){this.l=t.ac||null,this.j=t.jb||!1}function up(t,e){Et.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=cb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nL.prototype.cancel=function(){if(this.i=oL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ub.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)},ub.prototype.parse=function(t){return Q.JSON.parse(t,void 0)},Ft(sl,JD),sl.prototype.g=function(){return new up(this.l,this.j)},sl.prototype.i=function(t){return function(){return t}}({}),Ft(up,Et);var cb=0;function aL(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function ol(t){t.readyState=4,t.l=null,t.j=null,t.A=null,al(t)}function al(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(F=up.prototype).open=function(t,e){if(this.readyState!=cb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,al(this)},F.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ol(this)),this.readyState=cb},F.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aL(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},F.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ol(this):al(this),3==this.readyState&&aL(this)}},F.Va=function(t){this.g&&(this.response=this.responseText=t,ol(this))},F.Ua=function(t){this.g&&(this.response=t,ol(this))},F.ga=function(){this.g&&ol(this)},F.setRequestHeader=function(t,e){this.v.append(t,e)},F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(up.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ere=Q.JSON.parse;function ze(t){Et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uL,this.K=this.L=!1}Ft(ze,Et);var uL="",tre=/^https?$/i,nre=["POST","PUT"];function cL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lL(t),cp(t)}function lL(t){t.D||(t.D=!0,Lt(t,"complete"),Lt(t,"error"))}function dL(t){if(t.h&&typeof xD<"u"&&(!t.C[1]||4!=fi(t)||2!=t.aa()))if(t.v&&4==fi(t))XD(t.Ha,0,t);else if(Lt(t,"readystatechange"),4==fi(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(YF)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!tre.test(i?i.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var o=2<fi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",lL(t)}}finally{cp(t)}}}function cp(t,e){if(t.g){hL(t);const n=t.g,r=t.C[0]?jf:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function hL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function fi(t){return t.g?t.g.readyState:0}function fL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case uL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function pL(t){let e="";return UD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function lb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function ul(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gL(t){this.Ca=0,this.i=[],this.j=new Xf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ul("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ul("baseRetryDelayMs",5e3,t),this.bb=ul("retryDelaySeedMs",1e4,t),this.$a=ul("forwardChannelMaxRetries",2,t),this.ta=ul("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new nL(t&&t.concurrentRequestLimit),this.Fa=new Zne,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function db(t){if(mL(t),3==t.G){var e=t.U++,n=hi(t.F);Le(n,"SID",t.I),Le(n,"RID",e),Le(n,"TYPE","terminate"),cl(t,n),(e=new Jc(t,t.j,e,void 0)).K=2,e.v=op(hi(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=CL(e.l,null),e.g.da(e.v)),e.F=Date.now(),el(e)}DL(t)}function lp(t){t.g&&(fb(t),t.g.cancel(),t.g=null)}function mL(t){lp(t),t.u&&(Q.clearTimeout(t.u),t.u=null),hp(t),t.h.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function dp(t){rL(t.h)||t.m||(t.m=!0,RF(t.Ja,t),t.C=0)}function yL(t,e){var n;n=e?e.m:t.U++;const r=hi(t.F);Le(r,"SID",t.I),Le(r,"RID",n),Le(r,"AID",t.T),cl(t,r),t.o&&t.s&&lb(r,t.o,t.s),n=new Jc(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=_L(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),ab(t.h,n),ib(n,r,e)}function cl(t,e){t.ia&&UD(t.ia,function(n,r){Le(e,r,n)}),t.l&&QF({},function(n,r){Le(e,r,n)})}function _L(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Yt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Xne(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function vL(t){t.g||t.u||(t.Z=1,RF(t.Ia,t),t.A=0)}function hb(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=Zc(Yt(t.Ia,t),EL(t,t.A)),t.A++,0))}function fb(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function wL(t){t.g=new Jc(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=hi(t.sa);Le(e,"RID","rpc"),Le(e,"SID",t.I),Le(e,"CI",t.L?"0":"1"),Le(e,"AID",t.T),Le(e,"TYPE","xmlhttp"),cl(t,e),t.o&&t.s&&lb(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=op(hi(e)),n.s=null,n.P=!0,qF(n,t)}function hp(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function IL(t,e){var n=null;if(t.g==e){hp(t),fb(t),t.g=null;var r=2}else{if(!ob(t.h,e))return;n=e.D,sL(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Lt(r=Jf(),new BF(r,n)),dp(t)}else vL(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function ire(t,e){return!(iL(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=Zc(Yt(t.Ja,t,e),EL(t,t.C)),t.C++,0)))}(t,e)||2==r&&hb(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Us(t,5);break;case 4:Us(t,10);break;case 3:Us(t,6);break;default:Us(t,2)}}function EL(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Us(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=Yt(t.kb,t);n||(n=new Vs("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||ip(n,"https"),op(n)),function Jne(t,e){const n=new Xf;if(Q.Image){const r=new Image;r.onload=Gf(ap,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gf(ap,n,r,"TestLoadImage: error",!1,e),r.onabort=Gf(ap,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gf(ap,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else un(2);t.G=0,t.l&&t.l.va(e),DL(t),mL(t)}function DL(t){if(t.G=0,t.la=[],t.l){const e=oL(t.h);(0!=e.length||0!=t.i.length)&&(mF(t.la,e),mF(t.la,t.i),t.h.i.length=0,RD(t.i),t.i.length=0),t.l.ua()}}function bL(t,e,n){var r=n instanceof Vs?hi(n):new Vs(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),sp(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Vs(null,void 0);r&&ip(s,r),e&&(s.g=e),i&&sp(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&Le(r,n,e),Le(r,"VER",t.ma),cl(t,r),r}function CL(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ze(n&&t.Da&&!t.ra?new sl({jb:!0}):t.ra)).Ka(t.H),e}function TL(){}function fp(){if(Ia&&!(10<=Number(Ine)))throw Error("Environmental error: no available transport.")}function On(t,e){Et.call(this),this.g=new gL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!qf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ba(this)}function SL(t){eb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function AL(){tb.call(this),this.status=1}function ba(t){this.g=t}(F=ze.prototype).Ka=function(t){this.L=t},F.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nb.g(),this.C=function jF(t){return t.h||(t.h=t.i())}(this.u?this.u:nb),this.g.onreadystatechange=Yt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void cL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=gF(nre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hL(this),0<this.B&&((this.K=function rre(t){return Ia&&function wne(){return function mne(t){var e=vne;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=yF(String(Wf)).split("."),n=yF("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=kD(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||kD(0==i[2].length,0==s[2].length)||kD(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.qa,this)):this.A=XD(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cL(this,s)}},F.qa=function(){typeof xD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))},F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),cp(this))},F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cp(this,!0)),ze.X.M.call(this)},F.Ha=function(){this.s||(this.F||this.v||this.l?dL(this):this.fb())},F.fb=function(){dL(this)},F.aa=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ere(e)}},F.Ea=function(){return this.m},F.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=gL.prototype).ma=8,F.G=1,F.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Jc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=EF(s),bF(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_L(this,i,e),Le(n=hi(this.F),"RID",t),Le(n,"CVER",22),this.D&&Le(n,"X-HTTP-Session-Id",this.D),cl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(pL(s)))+"&"+e:this.o&&lb(n,this.o,s)),ab(this.h,i),this.Ya&&Le(n,"TYPE","init"),this.O?(Le(n,"$req",e),Le(n,"SID","null"),i.Z=!0,ib(i,n,null)):ib(i,n,e),this.G=2}}else 3==this.G&&(t?yL(this,t):0==this.i.length||rL(this.h)||yL(this))},F.Ia=function(){if(this.u=null,wL(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Zc(Yt(this.eb,this),t)}},F.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,un(10),lp(this),wL(this))},F.cb=function(){null!=this.v&&(this.v=null,lp(this),hb(this),un(19))},F.kb=function(t){t?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))},(F=TL.prototype).xa=function(){},F.wa=function(){},F.va=function(){},F.ua=function(){},F.Ra=function(){},fp.prototype.g=function(t,e){return new On(t,e)},Ft(On,Et),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;un(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=bL(t,null,t.V),dp(t)},On.prototype.close=function(){db(this.g)},On.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=KD(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&dp(e)},On.prototype.M=function(){this.g.l=null,delete this.j,db(this.g),delete this.g,On.X.M.call(this)},Ft(SL,eb),Ft(AL,tb),Ft(ba,TL),ba.prototype.xa=function(){Lt(this.g,"a")},ba.prototype.wa=function(t){Lt(this.g,new SL(t))},ba.prototype.va=function(t){Lt(this.g,new AL)},ba.prototype.ua=function(){Lt(this.g,"b")},fp.prototype.createWebChannel=fp.prototype.g,On.prototype.send=On.prototype.u,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,ep.NO_ERROR=0,ep.TIMEOUT=8,ep.HTTP_ERROR=6,$F.COMPLETE="complete",HF.EventType=Xc,Xc.OPEN="a",Xc.CLOSE="b",Xc.ERROR="c",Xc.MESSAGE="d",Et.prototype.listen=Et.prototype.N,ze.prototype.listenOnce=ze.prototype.O,ze.prototype.getLastError=ze.prototype.Oa,ze.prototype.getLastErrorCode=ze.prototype.Ea,ze.prototype.getStatus=ze.prototype.aa,ze.prototype.getResponseJson=ze.prototype.Sa,ze.prototype.getResponseText=ze.prototype.fa,ze.prototype.send=ze.prototype.da,ze.prototype.setWithCredentials=ze.prototype.Ka;var sre=di.createWebChannelTransport=function(){return new fp},ore=di.getStatEventTarget=function(){return Jf()},pb=di.ErrorCode=ep,are=di.EventType=$F,ure=di.Event=Fs,xL=di.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},cre=di.FetchXmlHttpFactory=sl,pp=di.WebChannel=HF,lre=di.XhrIo=ze;const ML="@firebase/firestore";class Dt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");let Ca="9.16.0";const Pi=new la("@firebase/firestore");function gb(){return Pi.logLevel}function T(t,...e){if(Pi.logLevel<=pe.DEBUG){const n=e.map(mb);Pi.debug(`Firestore (${Ca}): ${t}`,...n)}}function Ze(t,...e){if(Pi.logLevel<=pe.ERROR){const n=e.map(mb);Pi.error(`Firestore (${Ca}): ${t}`,...n)}}function Ta(t,...e){if(Pi.logLevel<=pe.WARN){const n=e.map(mb);Pi.warn(`Firestore (${Ca}): ${t}`,...n)}}function mb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: `+t;throw Ze(e),new Error(e)}function P(t,e){t||O()}function M(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class RL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class hre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fre{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new mt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(P("string"==typeof r.accessToken),new RL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new Dt(e)}}class pre{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(P(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class gre{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new pre(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mre{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(P("string"==typeof n.token),this.A=n.token,new kL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class NL{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function Sa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new $e(0,0))}static max(){return new B(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ll{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ll.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends ll{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const _re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends ll{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return _re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(ge.fromString(e))}static fromName(e){return new x(ge.fromString(e).popFirst(5))}static empty(){return new x(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new ge(e.slice()))}}function FL(t){return new Pn(t.readTime,t.key,-1)}class Pn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pn(B.min(),x.empty(),-1)}static max(){return new Pn(B.max(),x.empty(),-1)}}function _b(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const LL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ire{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fi(t){return vb.apply(this,arguments)}function vb(){return vb=g(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==LL)throw t;T("LocalStore","Unexpectedly lost primary lease")}),vb.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Li(t){return"IndexedDbTransactionError"===t.name}let Fn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class Tre{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class js{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof js&&e.projectId===this.projectId&&e.database===this.database}}function UL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fl(t){return null==t}function pl(t){return 0===t&&1/t==-1/0}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new yt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const Sre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(P(!!t),"string"==typeof t){let e=0;const n=Sre.exec(t);if(P(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gs(t){return"string"==typeof t?yt.fromBase64String(t):yt.fromUint8Array(t)}function Ib(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jL(t){const e=t.mapValue.fields.__previous_value__;return Ib(e)?jL(e):e}function gl(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}const Ui_mapValue={fields:{__type__:{stringValue:"__max__"}}};function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ib(t)?4:zL(t)?9007199254740991:10:O()}function Ar(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gl(t).isEqual(gl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Vi(r.timestampValue),o=Vi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Gs(t.bytesValue).isEqual(Gs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return We(r.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(r.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return We(r.integerValue)===We(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=We(r.doubleValue),o=We(i.doubleValue);return s===o?pl(s)===pl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Sa(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(UL(s)!==UL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ar(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function ml(t,e){return void 0!==(t.values||[]).find(n=>Ar(n,e))}function Bi(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=We(i.integerValue||i.doubleValue),a=We(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return HL(t.timestampValue,e.timestampValue);case 4:return HL(gl(t),gl(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Gs(i),a=Gs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Y(o[u],a[u]);if(0!==c)return c}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(We(i.latitude),We(s.latitude));return 0!==o?o:Y(We(i.longitude),We(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Bi(o[u],a[u]);if(c)return c}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ui_mapValue&&s===Ui_mapValue)return 0;if(i===Ui_mapValue)return 1;if(s===Ui_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Y(a[l],c[l]);if(0!==d)return d;const h=Bi(o[a[l]],u[c[l]]);if(0!==h)return h}return Y(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function HL(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=Vi(t),r=Vi(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function Aa(t){return Eb(t)}function Eb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Vi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gs(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Eb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Eb(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function Db(t){return!!t&&"integerValue"in t}function yl(t){return!!t&&"arrayValue"in t}function GL(t){return!!t&&"nullValue"in t}function qL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vp(t){return!!t&&"mapValue"in t}function _l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zL(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class $i{constructor(e,n){this.position=e,this.inclusive=n}}function QL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Bi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function YL(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}class ZL{}class le extends ZL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Mre(e,n,r):"array-contains"===n?new Nre(e,r):"in"===n?new rV(e,r):"not-in"===n?new Ore(e,r):"array-contains-any"===n?new Pre(e,r):new le(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Rre(e,r):new kre(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Bi(n,this.value)):null!==n&&qs(this.value)===qs(n)&&this.matchesComparison(Bi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ee extends ZL{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Ee(e,n)}matches(e){return xa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function xa(t){return"and"===t.op}function Cb(t){return function XL(t){for(const e of t.filters)if(e instanceof Ee)return!1;return!0}(t)&&xa(t)}function Tb(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(Cb(t))return t.filters.map(e=>Tb(e)).join(",");{const e=t.filters.map(n=>Tb(n)).join(",");return`${t.op}(${e})`}}function JL(t,e){return t instanceof le?(n=t,(r=e)instanceof le&&n.op===r.op&&n.field.isEqual(r.field)&&Ar(n.value,r.value)):t instanceof Ee?function(n,r){return r instanceof Ee&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&JL(s,r.filters[o]),!0)}(t,e):void O();var n,r}function tV(t){return t instanceof le?`${(e=t).field.canonicalString()} ${e.op} ${Aa(e.value)}`:t instanceof Ee?function(e){return e.op.toString()+" {"+e.getFilters().map(tV).join(" ,")+"}"}(t):"Filter";var e}class Mre extends le{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rre extends le{constructor(e,n){super(e,"in",n),this.keys=nV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kre extends le{constructor(e,n){super(e,"not-in",n),this.keys=nV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class Nre extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yl(n)&&ml(n.arrayValue,this.value)}}class rV extends le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ml(this.value.arrayValue,n)}}class Ore extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ml(this.value.arrayValue,n)}}class Pre extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}class Ma{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Ke{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wp(this.root,e,this.comparator,!0)}}class wp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=s??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1,Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Vt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class be{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iV(this.data.getIterator())}getIteratorFrom(e){return new iV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new be(this.comparator);return n.data=e,n}}class iV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new In([])}unionWith(e){let n=new be(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(n)}setAll(e){let n=Xe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_l(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ut(_l(this.value))}}function sV(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new Xe([n]);if(vp(r)){const s=sV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}class ke{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ke(e,0,B.min(),B.min(),B.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new ke(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new ke(e,2,n,B.min(),B.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new ke(e,3,n,B.min(),B.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lre{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Sb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Lre(t,e,n,r,i,s,o)}function Ws(t){const e=M(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),e.ft=n}return e.ft}function vl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YL(t.startAt,e.startAt)&&YL(t.endAt,e.endAt)}function Ip(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class pi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function ka(t){return new pi(t)}function cV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ks(t){const e=M(t);if(null===e.dt){e.dt=[];const n=function Dp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function Ab(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new Ma(n)),e.dt.push(new Ma(Xe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ma(Xe.keyField(),s))}}}return e.dt}function cn(t){const e=M(t);if(!e._t)if("F"===e.limitType)e._t=Sb(e.path,e.collectionGroup,Ks(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ks(e))n.push(new Ma(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new $i(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $i(e.startAt.position,e.startAt.inclusive):null;e._t=Sb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function bp(t,e,n){return new pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wl(t,e){return vl(cn(t),cn(e))&&t.limitType===e.limitType}function lV(t){return`${Ws(cn(t))}|lt:${t.limitType}`}function Rb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>tV(r)).join(", ")}]`),fl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),`Target(${n})`}(cn(t))}; limitType=${t.limitType})`}function kb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ks(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=QL(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ks(n),r)||n.endAt&&!function(i,s,o){const a=QL(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ks(n),r)));var n,r}function hV(t){return(e,n)=>{let r=!1;for(const i of Ks(t)){const s=Vre(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Vre(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Bi(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}function fV(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pl(e)?"-0":e}}function pV(t){return{integerValue:""+t}}function gV(t,e){return function $L(t){return"number"==typeof t&&Number.isInteger(t)&&!pl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?pV(e):fV(t,e)}class Cp{constructor(){this._=void 0}}function Ure(t,e,n){return t instanceof Na?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Qs?yV(t,e):t instanceof Ys?_V(t,e):function(r,i){const s=mV(r,i),o=vV(s)+vV(r.gt);return Db(s)&&Db(r.gt)?pV(o):fV(r.yt,o)}(t,e)}function Bre(t,e,n){return t instanceof Qs?yV(t,e):t instanceof Ys?_V(t,e):n}function mV(t,e){return t instanceof Oa?Db(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Na extends Cp{}class Qs extends Cp{constructor(e){super(),this.elements=e}}function yV(t,e){const n=wV(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ys extends Cp{constructor(e){super(),this.elements=e}}function _V(t,e){let n=wV(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class Oa extends Cp{constructor(e,n){super(),this.yt=e,this.gt=n}}function vV(t){return We(t.integerValue||t.doubleValue)}function wV(t){return yl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class jre{constructor(e,n){this.version=e,this.transformResults=n}}class Ve{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ve}static exists(e){return new Ve(void 0,e)}static updateTime(e){return new Ve(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Sp{}function IV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Fa(t.key,Ve.none()):new Pa(t.key,t.data,Ve.none());{const n=t.data,r=Ut.empty();let i=new be(Xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new gi(t.key,r,new In(i.toArray()),Ve.none())}}function Hre(t,e,n){t instanceof Pa?function(r,i,s){const o=r.value.clone(),a=bV(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof gi?function(r,i,s){if(!Tp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=bV(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(DV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function El(t,e,n,r){return t instanceof Pa?function(i,s,o,a){if(!Tp(i.precondition,s))return o;const u=i.value.clone(),c=CV(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gi?function(i,s,o,a){if(!Tp(i.precondition,s))return o;const u=CV(i.fieldTransforms,a,s),c=s.data;return c.setAll(DV(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Tp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Gre(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mV(r.transform,i||null);null!=s&&(null===n&&(n=Ut.empty()),n.set(r.field,s))}return n||null}function EV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Sa(n,r,(i,s)=>function $re(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Qs&&r instanceof Qs||n instanceof Ys&&r instanceof Ys?Sa(n.elements,r.elements,Ar):n instanceof Oa&&r instanceof Oa?Ar(n.gt,r.gt):n instanceof Na&&r instanceof Na);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Pa extends Sp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gi extends Sp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bV(t,e,n){const r=new Map;P(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Bre(o,a,n[i]))}return r}function CV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ure(s,o,e))}return r}class Fa extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nb extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qre{constructor(e){this.count=e}}var ot,me;function TV(t){switch(t){default:return O();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function SV(t){if(void 0===t)return Ze("GRPC error has no .code"),w.UNKNOWN;switch(t){case ot.OK:return w.OK;case ot.CANCELLED:return w.CANCELLED;case ot.UNKNOWN:return w.UNKNOWN;case ot.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case ot.INTERNAL:return w.INTERNAL;case ot.UNAVAILABLE:return w.UNAVAILABLE;case ot.UNAUTHENTICATED:return w.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case ot.NOT_FOUND:return w.NOT_FOUND;case ot.ALREADY_EXISTS:return w.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return w.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case ot.ABORTED:return w.ABORTED;case ot.OUT_OF_RANGE:return w.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return w.UNIMPLEMENTED;case ot.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(me=ot||(ot={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BL(this.inner)}size(){return this.innerSize}}const zre=new Ke(x.comparator);function En(){return zre}const AV=new Ke(x.comparator);function Dl(...t){let e=AV;for(const n of t)e=e.insert(n.key,n);return e}function xV(t){let e=AV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xr(){return bl()}function MV(){return bl()}function bl(){return new ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wre=new Ke(x.comparator),Kre=new be(x.comparator);function ee(...t){let e=Kre;for(const n of t)e=e.add(n);return e}const Qre=new be(Y);function Ap(){return Qre}class Cl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cl(B.min(),i,Ap(),En(),ee())}}class Tl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tl(r,n,ee(),ee(),ee())}}class xp{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class RV{constructor(e,n){this.targetId=e,this.Et=n}}class kV{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NV{constructor(){this.At=0,this.Rt=PV(),this.bt=yt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ee(),n=ee(),r=ee();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Tl(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=PV()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Yre{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=En(),this.qt=OV(),this.Ut=new be(Y)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Ip(s))if(0===r){const o=new x(s.path);this.Qt(n,o,ke.newNoDocument(o,B.min()))}else P(1===r);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Ip(a.target)){const u=new x(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,ke.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ee();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Cl(e,n,this.Ut,this.Lt,r);return this.Lt=En(),this.qt=OV(),this.Ut=new be(Y),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new NV,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new be(Y),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new NV),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function OV(){return new Ke(x.comparator)}function PV(){return new Ke(x.comparator)}const Zre={asc:"ASCENDING",desc:"DESCENDING"},Xre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jre={and:"AND",or:"OR"};class eie{constructor(e,n){this.databaseId=e,this.wt=n}}function La(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FV(t,e){return t.wt?e.toBase64():e.toUint8Array()}function tie(t,e){return La(t,e.toTimestamp())}function Je(t){return P(!!t),B.fromTimestamp(function(e){const n=Vi(e);return new $e(n.seconds,n.nanos)}(t))}function Ob(t,e){return(n=t,new ge(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function LV(t){const e=ge.fromString(t);return P(zV(e)),e}function Sl(t,e){return Ob(t.databaseId,e.path)}function Mr(t,e){const n=LV(e);if(n.get(1)!==t.databaseId.projectId)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(UV(n))}function Pb(t,e){return Ob(t.databaseId,e)}function Al(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UV(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function BV(t,e,n){return{name:Sl(t,e),fields:n.value.mapValue.fields}}function jV(t,e){return{documents:[Pb(t,e.path)]}}function Lb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Pb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return qV(Ee.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Va((l=c).field),direction:oie(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.wt||fl(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function HV(t){let e=function VV(t){const e=LV(t);return 4===e.length?ge.emptyPath():UV(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=GV(l);return d instanceof Ee&&Cb(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ma(Ua((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,fl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new $i((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new $i(l.values||[],!l.before)}(n.endAt)),function uV(t,e,n,r,i,s,o,a){return new pi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function GV(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ua(e.unaryFilter.field);return le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ua(e.unaryFilter.field);return le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ua(e.unaryFilter.field);return le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ua(e.unaryFilter.field);return le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?le.create(Ua((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ee.create(e.compositeFilter.filters.map(n=>GV(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O();var e}function oie(t){return Zre[t]}function aie(t){return Xre[t]}function uie(t){return Jre[t]}function Va(t){return{fieldPath:t.canonicalString()}}function Ua(t){return Xe.fromServerFormat(t.fieldPath)}function qV(t){return t instanceof le?function(e){if("=="===e.op){if(qL(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NAN"}};if(GL(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qL(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NOT_NAN"}};if(GL(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(e.field),op:aie(e.op),value:e.value}}}(t):t instanceof Ee?function(e){const n=e.getFilters().map(r=>qV(r));return 1===n.length?n[0]:{compositeFilter:{op:uie(e.op),filters:n}}}(t):O()}function cie(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ub{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Hre(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=IV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(n,r)=>EV(n,r))&&Sa(this.baseMutations,e.baseMutations,(n,r)=>EV(n,r))}}class Bb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){P(e.mutations.length===r.length);let i=Wre;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Bb(e,n,r,i)}}class $b{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hi{constructor(e,n,r,i,s=B.min(),o=B.min(),a=yt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class JV{constructor(e){this.ie=e}}function jb(t){const e=HV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?bp(e,e.limit,"L"):e}class eo{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(We(e.integerValue));else if("doubleValue"in e){const r=We(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),pl(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),"string"==typeof r?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(Gs(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?zL(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):O()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),x.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}eo.Ie=new eo;class Fie{constructor(){this.Je=new Kb}addToCollectionParentIndex(e,n){return this.Je.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(Pn.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(Pn.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class Kb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new be(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new be(ge.comparator)).toArray()}}new Uint8Array(0);class Dn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(41943040,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class no{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new no(0)}static vn(){return new no(-1)}}class Hie{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class DU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&El(r.mutation,i,In.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Dl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=En();const o=bl(),a=bl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof gi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),El(l.mutation,c,l.mutation.getFieldMask(),$e.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new zie(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bl();let i=new Ke((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||In.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=MV();l.forEach(h=>{if(!s.has(h)){const f=IV(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function xb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(xr());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:xV(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Dl();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=n,l=a.child(i),new pi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,ke.newInvalidDocument(c)))});let o=Dl();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&El(c.mutation,u,In.empty(),$e.now()),kb(n,u)&&(o=o.insert(a,u))}),o})}}class Wie{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return _.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Je(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:jb(r.bundledQuery),readTime:Je(r.readTime)}),_.resolve();var r}}class Kie{constructor(){this.overlays=new Ke(x.comparator),this.es=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xr();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=xr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=xr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=xr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $b(n,r));let s=this.es.get(n);void 0===s&&(s=ee(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class Qb{constructor(){this.ns=new be(Ct.ss),this.rs=new be(Ct.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Ct(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new x(new ge([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new x(new ge([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=ee();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return x.comparator(e.key,n.key)||Y(e._s,n._s)}static os(e,n){return Y(e._s,n._s)||x.comparator(e.key,n.key)}}class Qie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new be(Ct.ss)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new Ub(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(Y);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),_.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new x(s),0);let a=new be(Y);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),_.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){P(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Ct(n,0),i=this.gs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Yie{constructor(e){this.Es=e,this.docs=new Ke(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():ke.newInvalidDocument(n))}getEntries(e,n){let r=En();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ke.newInvalidDocument(i))}),_.resolve(r)}getAllFromCollection(e,n,r){let i=En();const s=new x(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||_b(FL(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return _.resolve(i)}getAllFromCollectionGroup(e,n,r,i){O()}As(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Zie(this)}getSize(e){return _.resolve(this.size)}}class Zie extends Hie{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Xie{constructor(e){this.persistence=e,this.Rs=new ji(n=>Ws(n),vl),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Qb,this.targetCount=0,this.vs=no.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),_.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new no(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Dn(n),_.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Ps.containsKey(n))}}class bU{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Fn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Xie(this),this.indexManager=new Fie,this.remoteDocumentCache=new Yie(r=>this.referenceDelegate.xs(r)),this.yt=new JV(n),this.Ns=new Wie(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Kie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new Qie(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new Jie(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return _.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class Jie extends Ire{constructor(e){super(),this.currentSequenceNumber=e}}class Up{constructor(e){this.persistence=e,this.Fs=new Qb,this.$s=null}static Bs(e){return new Up(e)}get Ls(){if(this.$s)return this.$s;throw O()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),_.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ls,r=>{const i=x.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return _.or([()=>_.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class Jb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Jb(e,n.fromCache,r,i)}}class TU{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(cV(n))return _.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=bp(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,bp(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return cV(n)||i.isEqual(B.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(gb()<=pe.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rb(n)),this.Bi(e,o,n,function PL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new $e(n+1,0):new $e(n,r));return new Pn(i,x.empty(),e)}(i,-1)))})}Fi(e,n){let r=new be(hV(e));return n.forEach((i,s)=>{kb(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return gb()<=pe.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Rb(n)),this.Ni.getDocumentsMatchingQuery(e,n,Pn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class tse{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Ke(Y),this.Ui=new ji(s=>Ws(s),vl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function AU(t,e){return eC.apply(this,arguments)}function eC(){return eC=g(function*(t,e){const n=M(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),eC.apply(this,arguments)}function nse(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);P(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xU(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function rse(t,e){const n=M(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(yt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=En(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function MU(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=En();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(B.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.qi=i,s))}function ise(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ja(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Hi(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}function Ha(t,e,n){return tC.apply(this,arguments)}function tC(){return tC=g(function*(t,e,n){const r=M(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Li(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),tC.apply(this,arguments)}function $p(t,e,n){const r=M(t);let i=B.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.Ui.get(c);return void 0!==d?_.resolve(l.qi.get(d)):l.Cs.getTargetData(u,c)}(r,o,cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:ee())).next(a=>(function NU(t,e,n){let r=t.Ki.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function dV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class oC{constructor(){this.activeTargetIds=Ap()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FU{constructor(){this.Lr=new oC,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new oC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ase{Ur(e){}shutdown(){}}class LU{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const use={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cse{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class lse extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Ta("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ca,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.oo}/v1/${n}:${use[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new lre;a.setWithCredentials(!0),a.listenOnce(are.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case pb.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case pb.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case pb.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(m)>=0?m:w.UNKNOWN}(h.status);o(new C(f,h.message))}else o(new C(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sre(),o=ore(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new cre({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new cse({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,y)=>{p.listen(m,I=>{try{y(I)}catch(b){setTimeout(()=>{throw b},0)}})};return f(c,pp.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,pp.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,pp.EventType.ERROR,p=>{d||(d=!0,Ta("Connection","WebChannel transport errored:",p),h.io(new C(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,pp.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];P(!!y);const b=y.error||(null===(m=y[0])||void 0===m?void 0:m.error);if(b){T("Connection","WebChannel received error:",b);const v=b.status;let k=function($){const tt=ot[$];if(void 0!==tt)return SV(tt)}(v),V=b.message;void 0===k&&(k=w.INTERNAL,V="Unknown error status: "+v+" with message "+b.message),d=!0,h.io(new C(k,V)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,ure.STAT_EVENT,p=>{p.stat===xL.PROXY?T("Connection","Detected buffering proxy"):p.stat===xL.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Gp(){return typeof document<"u"?document:null}function Vl(t){return new eie(t,!0)}class uC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class UU{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new uC(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return g(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Ze(n.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new C(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dse extends UU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function rie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.wt?(P(void 0===c||"string"==typeof c),yt.fromBase64String(c||"")):(P(void 0===c||c instanceof Uint8Array),yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:SV(u.code);return new C(c,u.message||"")}(o);n=new kV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mr(t,r.document.name),s=Je(r.document.updateTime),o=r.document.createTime?Je(r.document.createTime):B.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=ke.newFoundDocument(i,s,o,a);n=new xp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Mr(t,r.document),s=r.readTime?Je(r.readTime):B.min(),o=ke.newNoDocument(i,s);n=new xp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mr(t,r.document);n=new xp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,s=new qre(r.count||0);n=new RV(r.targetId,s)}}var u;return n}(this.yt,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?Je(s.readTime):B.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Al(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Ip(a)?{documents:jV(i,a)}:{query:Lb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=FV(i,s.resumeToken):s.snapshotVersion.compareTo(B.min())>0&&(o.readTime=La(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function sie(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Al(this.yt),n.removeTarget=e,this.Bo(n)}}class hse extends UU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function iie(t,e){return t&&t.length>0?(P(void 0!==e),t.map(n=>function(r,i){let s=Je(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=Je(i)),new jre(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Je(e.commitTime);return this.listener.Zo(r,n)}return P(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Al(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function xl(t,e){let n;if(e instanceof Pa)n={update:BV(t,e.key,e.value)};else if(e instanceof Fa)n={delete:Sl(t,e.key)};else if(e instanceof gi)n={update:BV(t,e.key,e.data),updateMask:cie(e.fieldMask)};else{if(!(e instanceof Nb))return O();n={verify:Sl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Na)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ys)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Oa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:tie(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.yt,r))};this.Bo(n)}}class fse extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(w.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class gse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ze(n),this.ou=!1):T("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class mse{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(g(function*(){var u;mi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=M(c);l._u.add(4),yield Ga(l),l.gu.set("Unknown"),l._u.delete(4),yield Ul(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new gse(r,i)}}function Ul(t){return lC.apply(this,arguments)}function lC(){return lC=g(function*(t){if(mi(t))for(const e of t.wu)yield e(!0)}),lC.apply(this,arguments)}function Ga(t){return dC.apply(this,arguments)}function dC(){return dC=g(function*(t){for(const e of t.wu)yield e(!1)}),dC.apply(this,arguments)}function qp(t,e){const n=M(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),pC(n)?fC(n):za(n).ko()&&hC(n,e))}function Bl(t,e){const n=M(t),r=za(n);n.du.delete(e),r.ko()&&BU(n,e),0===n.du.size&&(r.ko()?r.Fo():mi(n)&&n.gu.set("Unknown"))}function hC(t,e){t.yu.Ot(e.targetId),za(t).zo(e)}function BU(t,e){t.yu.Ot(e),za(t).Ho(e)}function fC(t){t.yu=new Yre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),za(t).start(),t.gu.uu()}function pC(t){return mi(t)&&!za(t).No()&&t.du.size>0}function mi(t){return 0===M(t)._u.size}function $U(t){t.yu=void 0}function yse(t){return gC.apply(this,arguments)}function gC(){return gC=g(function*(t){t.du.forEach((e,n)=>{hC(t,e)})}),gC.apply(this,arguments)}function _se(t,e){return mC.apply(this,arguments)}function mC(){return mC=g(function*(t,e){$U(t),pC(t)?(t.gu.hu(e),fC(t)):t.gu.set("Unknown")}),mC.apply(this,arguments)}function vse(t,e,n){return yC.apply(this,arguments)}function yC(){return yC=g(function*(t,e,n){if(t.gu.set("Online"),e instanceof kV&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zp(t,r)}else if(e instanceof xp?t.yu.Kt(e):e instanceof RV?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(B.min()))try{const r=yield xU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(yt.EMPTY_BYTE_STRING,u.snapshotVersion)),BU(i,a);const c=new Hi(u.target,a,1,u.sequenceNumber);hC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield zp(t,r)}var r}),yC.apply(this,arguments)}function zp(t,e,n){return _C.apply(this,arguments)}function _C(){return _C=g(function*(t,e,n){if(!Li(e))throw e;t._u.add(1),yield Ga(t),t.gu.set("Offline"),n||(n=()=>xU(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield Ul(t)}))}),_C.apply(this,arguments)}function jU(t,e){return e().catch(n=>zp(t,n,e))}function qa(t){return vC.apply(this,arguments)}function vC(){return vC=g(function*(t){const e=M(t),n=Wi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;wse(e);)try{const i=yield ise(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,Ise(e,i)}catch(i){yield zp(e,i)}HU(e)&&GU(e)}),vC.apply(this,arguments)}function wse(t){return mi(t)&&t.fu.length<10}function Ise(t,e){t.fu.push(e);const n=Wi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function HU(t){return mi(t)&&!Wi(t).No()&&t.fu.length>0}function GU(t){Wi(t).start()}function Ese(t){return wC.apply(this,arguments)}function wC(){return wC=g(function*(t){Wi(t).eu()}),wC.apply(this,arguments)}function Dse(t){return IC.apply(this,arguments)}function IC(){return IC=g(function*(t){const e=Wi(t);for(const n of t.fu)e.Xo(n.mutations)}),IC.apply(this,arguments)}function bse(t,e,n){return EC.apply(this,arguments)}function EC(){return EC=g(function*(t,e,n){const r=t.fu.shift(),i=Bb.from(r,e,n);yield jU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield qa(t)}),EC.apply(this,arguments)}function Cse(t,e){return DC.apply(this,arguments)}function DC(){return DC=g(function*(t,e){var n;e&&Wi(t).Yo&&(yield(n=g(function*(r,i){if(TV(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();Wi(r).Mo(),yield jU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qa(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),HU(t)&&GU(t)}),DC.apply(this,arguments)}function qU(t,e){return bC.apply(this,arguments)}function bC(){return bC=g(function*(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=mi(n);n._u.add(3),yield Ga(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield Ul(n)}),bC.apply(this,arguments)}function TC(){return TC=g(function*(t,e){const n=M(t);e?(n._u.delete(2),yield Ul(n)):e||(n._u.add(2),yield Ga(n),n.gu.set("Unknown"))}),TC.apply(this,arguments)}function za(t){return t.pu||(t.pu=function(e,n,r){const i=M(e);return i.su(),new dse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:yse.bind(null,t),Zr:_se.bind(null,t),Wo:vse.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.pu.Mo(),pC(t)?fC(t):t.gu.set("Unknown")):(yield t.pu.stop(),$U(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function Wi(t){return t.Iu||(t.Iu=function(e,n,r){const i=M(e);return i.su(),new hse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Ese.bind(null,t),Zr:Cse.bind(null,t),tu:Dse.bind(null,t),Zo:bse.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.Iu.Mo(),yield qa(t)):(yield t.Iu.stop(),t.fu.length>0&&(T("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class SC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new SC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wa(t,e){if(Ze("AsyncQueue",`${e}: ${t}`),Li(t))return new C(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Ka{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new Ka(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class zU{constructor(){this.Tu=new Ke(x.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):O():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qa(e,n,Ka.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Tse{constructor(){this.Au=void 0,this.listeners=[]}}class Sse{constructor(){this.queries=new ji(e=>lV(e),wl),this.onlineState="Unknown",this.Ru=new Set}}function xC(){return xC=g(function*(t,e){const n=M(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Tse),i)try{s.Au=yield n.onListen(r)}catch(o){const a=Wa(o,`Initialization of query '${Rb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&kC(n)}),xC.apply(this,arguments)}function RC(){return RC=g(function*(t,e){const n=M(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),RC.apply(this,arguments)}function Ase(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&kC(n)}function xse(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function kC(t){t.Ru.forEach(e=>{e.next()})}class NC{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class QU{constructor(e){this.key=e}}class YU{constructor(e){this.key=e}}class ZU{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ee(),this.mutatedKeys=ee(),this.Gu=hV(e),this.Qu=new Ka(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new zU,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=kb(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new Qa(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new zU,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ee(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new YU(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new QU(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ee();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Qa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class kse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nse{constructor(e){this.key=e,this.nc=!1}}class Ose{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ji(a=>lV(a),wl),this.rc=new Map,this.oc=new Set,this.uc=new Ke(x.comparator),this.cc=new Map,this.ac=new Qb,this.hc={},this.lc=new Map,this.fc=no.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Pse(t,e){return OC.apply(this,arguments)}function OC(){return OC=g(function*(t,e){const n=r0(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield ja(n.localStore,cn(e));n.isPrimaryClient&&qp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield PC(n,e,r,"current"===a,o.resumeToken)}return i}),OC.apply(this,arguments)}function PC(t,e,n,r,i){return FC.apply(this,arguments)}function FC(){return FC=g(function*(t,e,n,r,i){t._c=(d,h,f)=>{return(p=g(function*(m,y,I,b){let v=y.view.Wu(I);v.$i&&(v=yield $p(m.localStore,y.query,!1).then(({documents:$})=>y.view.Wu($,v)));const k=b&&b.targetChanges.get(y.targetId),V=y.view.applyChanges(v,m.isPrimaryClient,k);return zC(m,y.targetId,V.Xu),V.snapshot}),function(m,y,I,b){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield $p(t.localStore,e,!0),o=new ZU(e,s.Hi),a=o.Wu(s.documents),u=Tl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);zC(t,n,c.Xu);const l=new kse(e,n,o);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}),FC.apply(this,arguments)}function Fse(t,e){return LC.apply(this,arguments)}function LC(){return LC=g(function*(t,e){const n=M(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!wl(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ha(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Bl(n.remoteStore,r.targetId),Ya(n,r.targetId)}).catch(Fi))):(Ya(n,r.targetId),yield Ha(n.localStore,r.targetId,!0))}),LC.apply(this,arguments)}function VC(){return VC=g(function*(t,e,n){const r=s0(t);try{const i=yield function(s,o){const a=M(s),u=$e.now(),c=o.reduce((h,f)=>h.add(f.key),ee());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=En(),p=ee();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const b=Gre(I,l.get(I.key).overlayedDocument);null!=b&&y.push(new gi(I.key,b,sV(b.value.mapValue),Ve.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:xV(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new Ke(Y)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield yi(r,i.changes),yield qa(r.remoteStore)}catch(i){const s=Wa(i,"Failed to persist write");n.reject(s)}}),VC.apply(this,arguments)}function XU(t,e){return UC.apply(this,arguments)}function UC(){return UC=g(function*(t,e){const n=M(t);try{const r=yield rse(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(P(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?P(o.nc):i.removedDocuments.size>0&&(P(o.nc),o.nc=!1))}),yield yi(n,r,e)}catch(r){yield Fi(r)}}),UC.apply(this,arguments)}function JU(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&kC(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vse(t,e,n){return BC.apply(this,arguments)}function BC(){return BC=g(function*(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Ke(x.comparator);o=o.insert(s,ke.newNoDocument(s,B.min()));const a=ee().add(s),u=new Cl(B.min(),new Map,new be(Y),o,a);yield XU(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),WC(r)}else yield Ha(r.localStore,e,!1).then(()=>Ya(r,e,n)).catch(Fi)}),BC.apply(this,arguments)}function Use(t,e){return $C.apply(this,arguments)}function $C(){return $C=g(function*(t,e){const n=M(t),r=e.batch.batchId;try{const i=yield nse(n.localStore,e);qC(n,r,null),GC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield yi(n,i)}catch(i){yield Fi(i)}}),$C.apply(this,arguments)}function Bse(t,e,n){return jC.apply(this,arguments)}function jC(){return jC=g(function*(t,e,n){const r=M(t);try{const i=yield function(s,o){const a=M(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(P(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);qC(r,e,n),GC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield yi(r,i)}catch(i){yield Fi(i)}}),jC.apply(this,arguments)}function GC(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function qC(t,e,n){const r=M(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ya(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||e2(t,r)})}function e2(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(Bl(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),WC(t))}function zC(t,e,n){for(const r of n)r instanceof QU?(t.ac.addReference(r.key,e),jse(t,r)):r instanceof YU?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||e2(t,r.key)):O()}function jse(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.oc.add(r),WC(t))}function WC(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new x(ge.fromString(e)),r=t.fc.next();t.cc.set(r,new Nse(n)),t.uc=t.uc.insert(n,r),qp(t.remoteStore,new Hi(cn(ka(n.path)),r,2,Fn.at))}}function yi(t,e,n){return KC.apply(this,arguments)}function KC(){return KC=g(function*(t,e,n){const r=M(t),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=Jb.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=g(function*(u,c){const l=M(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Li(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qi.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qi=l.qi.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),KC.apply(this,arguments)}function Hse(t,e){return QC.apply(this,arguments)}function QC(){return QC=g(function*(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield AU(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(o=>{o.forEach(a=>{a.reject(new C(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yi(n,r.ji)}var i}),QC.apply(this,arguments)}function Gse(t,e){const n=M(t),r=n.cc.get(e);if(r&&r.nc)return ee().add(r.key);{let i=ee();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function r0(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vse.bind(null,e),e.sc.Wo=Ase.bind(null,e.eventManager),e.sc.wc=xse.bind(null,e.eventManager),e}function s0(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Use.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bse.bind(null,e),e}class Jse{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.yt=Vl(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function SU(t,e,n,r){return new tse(t,e,n,r)}(this.persistence,new TU,e.initialUser,this.yt)}yc(e){return new bU(Up.Bs,this.yt)}gc(e){return new FU}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class o0{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>JU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Hse.bind(null,r.syncEngine),yield function CC(t,e){return TC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Sse}createDatastore(e){const n=Vl(e.databaseInfo.databaseId),r=new lse(e.databaseInfo);return new fse(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>JU(this.syncEngine,a,0),o=LU.C()?new LU:new ase,new mse(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Ose(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=M(n);T("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ga(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function a0(t,e,n){if(!n)throw new C(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r2(t){if(!x.isDocumentKey(t))throw new C(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i2(t){if(x.isDocumentKey(t))throw new C(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wp(t);throw new C(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const o2=new Map;class a2{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function noe(t,e,n,r){if(!0===e&&!0===r)throw new C(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $l{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a2(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new dre;switch(n.type){case"gapi":return new gre(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=o2.get(e);n&&(T("ComponentProvider","Removing Datastore"),o2.delete(e),n.terminate())}(this),Promise.resolve()}}class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}}class Bt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bt(this.firestore,e,this._query)}}class kr extends Bt{constructor(e,n,r){super(e,n,ka(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new x(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function u2(t,e,...n){if(t=Kt(t),a0("collection","path",e),t instanceof $l){const r=ge.fromString(e,...n);return i2(r),new kr(t,null,r)}{if(!(t instanceof et||t instanceof kr))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return i2(r),new kr(t.firestore,null,r)}}function c2(t,e,...n){if(t=Kt(t),1===arguments.length&&(e=NL.R()),a0("doc","path",e),t instanceof $l){const r=ge.fromString(e,...n);return r2(r),new et(t,null,new x(r))}{if(!(t instanceof et||t instanceof kr))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return r2(r),new et(t.firestore,t instanceof kr?t.converter:null,new x(r))}}class Kp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ze("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class coe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=NL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Wa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function h2(t,e){return u0.apply(this,arguments)}function u0(){return u0=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield AU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),u0.apply(this,arguments)}function f2(t,e){return c0.apply(this,arguments)}function c0(){return c0=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield l0(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>qU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>qU(e.remoteStore,s)),t.onlineComponents=e}),c0.apply(this,arguments)}function l0(t){return d0.apply(this,arguments)}function d0(){return d0=g(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield h2(t,new Jse)),t.offlineComponents}),d0.apply(this,arguments)}function Qp(t){return h0.apply(this,arguments)}function h0(){return h0=g(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield f2(t,new o0)),t.onlineComponents}),h0.apply(this,arguments)}function Za(t){return g0.apply(this,arguments)}function g0(){return g0=g(function*(t){const e=yield Qp(t),n=e.eventManager;return n.onListen=Pse.bind(null,e.syncEngine),n.onUnlisten=Fse.bind(null,e.syncEngine),n}),g0.apply(this,arguments)}class yoe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new uC(this,"async_queue_retry"),this.Wc=()=>{const n=Gp();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Gp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Gp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new mt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!Li(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=SC.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&O()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function m0(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ne extends $l{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yoe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_2(this),this._firestoreClient.terminate()}}function voe(t,e){const r="string"==typeof t?t:e||"(default)",i=da("object"==typeof t?t:bv(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=C1("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function roe(t,e,n,r={}){var i;const s=(t=de(t,$l))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ta("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Dt.MOCK_USER;else{o=function d9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rf(JSON.stringify({alg:"none",type:"JWT"})),rf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Dt(u)}t._authCredentials=new hre(new RL(o,a))}}(i,...s)}return i}function at(t){return t._firestoreClient||_2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _2(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Tre(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new coe(t._authCredentials,t._appCheckCredentials,t._queue,r)}class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(yt.fromBase64String(e))}catch(n){throw new C(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new io(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class I2{constructor(e){this._methodName=e}}class y0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const woe=/^__.*__$/;class Ioe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pa(e,this.data,n,this.fieldTransforms)}}function D2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class Zp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Jp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(D2(this.sa)&&woe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Eoe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||Vl(e)}da(e,n,r,i=!1){return new Zp({sa:e,methodName:n,fa:r,path:Xe.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Ja(t){const e=t._freezeSettings(),n=Vl(t._databaseId);return new Eoe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _0(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);w0("Data must be an object, but it was:",o,r);const a=A2(r,o);let u,c;if(s.merge)u=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=I0(e,d,n);if(!o.contains(h))throw new C(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);M2(l,h)||l.push(h)}u=new In(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Ioe(new Ut(a),u,c)}function so(t,e){if(x2(t=Kt(t)))return w0("Unsupported field value:",e,t),A2(t,e);if(t instanceof I2)return function(n,r){if(!D2(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=so(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Kt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return gV(r.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=$e.fromDate(n);return{timestampValue:La(r.yt,i)}}if(n instanceof $e){const i=new $e(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:La(r.yt,i)}}if(n instanceof y0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof io)return{bytesValue:FV(r.yt,n._byteString)};if(n instanceof et){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ob(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Wp(n)}`)}(t,e)}function A2(t,e){const n={};return BL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=so(i,e.ra(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function x2(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof y0||t instanceof io||t instanceof et||t instanceof I2)}function w0(t,e,n){if(!x2(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Wp(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function I0(t,e,n){if((e=Kt(e))instanceof Xa)return e._internalPath;if("string"==typeof e)return Xp(t,e);throw Jp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Toe=new RegExp("[~\\*/\\[\\]]");function Xp(t,e,n){if(e.search(Toe)>=0)throw Jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xa(...e.split("."))._internalPath}catch{throw Jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(w.INVALID_ARGUMENT,a+t+u)}function M2(t,e){return t.some(n=>n.isEqual(e))}class E0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Soe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Soe extends E0{data(){return super.data()}}function eg(t,e){return"string"==typeof e?Xp(t,e):e instanceof Xa?e._internalPath:e._delegate._internalPath}class xoe{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){const r={};return Hs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new y0(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jL(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);P(zV(r));const i=new js(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Ze(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tu extends E0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ig extends tu{data(e={}){return super.data(e)}}class nu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ig(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ig(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ig(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Moe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Moe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class Ki extends xoe{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function Roe(t){return Gl(de(t.firestore,Ne),[new Fa(t._key,Ve.none())])}function Gl(t,e){return function(n,r){const i=new mt;return n.asyncQueue.enqueueAndForget(g(function*(){return function Lse(t,e,n){return VC.apply(this,arguments)}(yield function p0(t){return Qp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(at(t),e)}!function(t,e=!0){Ca=ha,on(new Qt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ne(new fre(n.getProvider("auth-internal")),new mre(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new js(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),qe(ML,"3.8.1",t),qe(ML,"3.8.1","esm2017")}();var Loe={includeMetadataChanges:!1};function T0(t,e){return void 0===e&&(e=Loe),new Oe(function(n){var r=function Noe(t,...e){var n,r,i;t=Kt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||m0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(m0(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof et)c=de(t.firestore,Ne),l=ka(t._key.path),u={next:d=>{e[o]&&e[o](function C0(t,e,n){const r=n.docs.get(e._key),i=new Ki(t);return new tu(t,i,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=de(t,Bt);c=de(d.firestore,Ne),l=d._query;const h=new Ki(c);u={next:f=>{e[o]&&e[o](new nu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function R2(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Kp(p),y=new NC(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function AC(t,e){return xC.apply(this,arguments)}(yield Za(d),y)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(g(function*(){return function MC(t,e){return RC.apply(this,arguments)}(yield Za(d),y)}))}}(at(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Goe(t,e){return void 0===e&&(e={}),function Hoe(t){return T0(t,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}(t).pipe(te(function(n){return n.map(function(r){return function U2(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class og{constructor(e){return e}}const H2="firestore",x0=new L("angularfire2.firestore-instances");function Woe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new og(r)}}const Koe={provide:class qoe{constructor(){return lI(H2)}},deps:[[new qt,x0]]},Qoe={provide:og,useFactory:function zoe(t,e){const n=cI(H2,t,e);return n&&new og(n)},deps:[[new qt,x0],ya]};let Yoe=(()=>{class t{constructor(){qe("angularfire",If.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=St({providers:[Qoe,Koe]}),t})();const Xoe=oi(Goe,!0),Joe=oi(Roe,!0),eae=oi(voe,!0);class ao{constructor(e){this.firestore=e}addProducto(e){return function koe(t,e){const n=de(t.firestore,Ne),r=c2(t),i=function b0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Gl(n,[_0(Ja(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ve.exists(!1))]).then(()=>r)}(u2(this.firestore,"farmacia"),e)}getFarmacia(){const e=u2(this.firestore,"farmacia");return Xoe(e,{idField:"id"})}deletedFarmacia(e){const n=c2(this.firestore,`farmacia/${e.id}`);return Joe(n)}}function tae(t,e){if(1&t){const n=gy();oe(0,"tr",11)(1,"td",12),De(2),re(),oe(3,"td",12),De(4),re(),oe(5,"td",13),Hn(6,"img",14),re(),oe(7,"td",12)(8,"button",15),vt("click",function(){const s=Hg(n).$implicit;return Gg(yy().onClickDelete(s))}),De(9,"Eliminar"),re()()()}if(2&t){const n=e.$implicit;tr(2),by(n.producto),tr(2),rh("S/. ",n.costo,""),tr(2),_y("src",n.foto,Fm)}}ao.\u0275fac=function(e){return new(e||ao)(U(og))},ao.\u0275prov=j({token:ao,factory:ao.\u0275fac,providedIn:"root"});class ql{constructor(e,n){this.farmaciaServices=e,this.router=n}actualizar(){window.location.reload()}ngOnInit(){localStorage.setItem("logeado","true"),this.farmaciaServices.getFarmacia().subscribe(e=>{this.farmacia=e})}onClickDelete(e){const n=this.farmaciaServices.deletedFarmacia(e);console.log(n)}agregar(){this.router.navigate(["/register"])}}ql.\u0275fac=function(e){return new(e||ql)(D(ao),D(ft))},ql.\u0275cmp=Vr({type:ql,selectors:[["app-list"]],decls:20,vars:1,consts:[[1,"lista","w-5/6","mx-auto","p-5","mt-5"],[1,"encabezado","flex"],[1,"titulo","flex","flex-row","w-3/5"],[1,"text-center","ml-20","w-3/5","font-mono","font-bold","text-4xl","uppercase"],[1,"boton","w-2/5","flex","flex-row-reverse"],[1,"rounded-lg","bg-green-500","px-4","py-2","text-white","hover:bg-green-700","font-mono","font-bold","text-xl",3,"click"],[1,"tabla","border","border-black","rounded-lg","p-7","mx-auto","mt-10","w-3/4"],[1,"p-5"],[1,"text-center","font-mono","font-bold","text-2xl","uppercase"],[1,""],["class","border border-black my-3",4,"ngFor","ngForOf"],[1,"border","border-black","my-3"],[1,"text-center","font-mono","text-xl"],[1,"font-mono","text-xl","grid","justify-items-center","py-2"],[1,"text-center",2,"width","120px",3,"src"],[1,"bg-red-500","font-mono","px-4","py-2","rounded-lg","hover:bg-red-700","hover:text-white",3,"click"]],template:function(e,n){1&e&&(oe(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),De(4,"Lista de productos"),re()(),oe(5,"div",4)(6,"button",5),vt("click",function(){return n.agregar()}),De(7,"Agregar producto"),re()()(),oe(8,"table",6)(9,"thead",7)(10,"th",8),De(11,"Nommbre"),re(),oe(12,"th",8),De(13,"Costo"),re(),oe(14,"th",8),De(15,"Imagen"),re(),oe(16,"th",8),De(17,"Tools"),re()(),oe(18,"tbody",9),Hu(19,tae,10,3,"tr",10),re()()()),2&e&&(tr(19),Wr("ngForOf",n.farmacia))},dependencies:[Ak]});let G2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(Gr),D(Rn))},t.\u0275dir=K({type:t}),t})(),uo=(()=>{class t extends G2{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(t)))(r||t)}}(),t.\u0275dir=K({type:t,features:[Ie]}),t})();const Nr=new L("NgValueAccessor"),iae={provide:Nr,useExisting:Ae(()=>ru),multi:!0},oae=new L("CompositionEventMode");let ru=(()=>{class t extends G2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sae(){const t=wr()?wr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(Gr),D(Rn),D(oae,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&vt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Pe([iae]),Ie]}),t})();const Xt=new L("NgValidators"),Yi=new L("NgAsyncValidators");function tB(t){return null!=t}function nB(t){return Gu(t)?nt(t):t}function rB(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function iB(t,e){return e.map(n=>n(t))}function sB(t){return t.map(e=>function cae(t){return!t.validate}(e)?e:n=>e.validate(n))}function M0(t){return null!=t?function oB(t){if(!t)return null;const e=t.filter(tB);return 0==e.length?null:function(n){return rB(iB(n,e))}}(sB(t)):null}function R0(t){return null!=t?function aB(t){if(!t)return null;const e=t.filter(tB);return 0==e.length?null:function(n){return function nae(...t){const e=IT(t),{args:n,keys:r}=sN(t),i=new Oe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Qn(n[l]).subscribe(ut(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?aN(r,a):a),s.complete())}))}});return e?i.pipe(oN(e)):i}(iB(n,e).map(nB)).pipe(te(rB))}}(sB(t)):null}function uB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cB(t){return t._rawValidators}function lB(t){return t._rawAsyncValidators}function k0(t){return t?Array.isArray(t)?t:[t]:[]}function ug(t,e){return Array.isArray(t)?t.includes(e):t===e}function dB(t,e){const n=k0(e);return k0(t).forEach(i=>{ug(n,i)||n.push(i)}),n}function hB(t,e){return k0(e).filter(n=>!ug(t,n))}class fB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=R0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class dn extends fB{get formDirective(){return null}get path(){return null}}class Zi extends fB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cg=(()=>{class t extends pB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(Zi,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&th("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ie]}),t})(),lg=(()=>{class t extends pB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(dn,10))},t.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&th("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ie]}),t})();const zl="VALID",hg="INVALID",iu="PENDING",Wl="DISABLED";function F0(t){return(fg(t)?t.validators:t)||null}function L0(t,e){return(fg(e)?e.asyncValidators:t)||null}function fg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _B{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zl}get invalid(){return this.status===hg}get pending(){return this.status==iu}get disabled(){return this.status===Wl}get enabled(){return this.status!==Wl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hB(e,this._rawAsyncValidators))}hasValidator(e){return ug(this._rawValidators,e)}hasAsyncValidator(e){return ug(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=iu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Wl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=zl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zl||this.status===iu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wl:zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=iu,this._hasOwnPendingAsyncValidator=!0;const n=nB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Wl:this.errors?hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iu)?iu:this._anyControlsHaveStatus(hg)?hg:zl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function mae(t){return Array.isArray(t)?M0(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yae(t){return Array.isArray(t)?R0(t):t||null}(this._rawAsyncValidators)}}class su extends _B{constructor(e,n,r){super(F0(n),L0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function yB(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function mB(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ou=new L("CallSetDisabledState",{providedIn:"root",factory:()=>pg}),pg="always";function Kl(t,e,n=pg){V0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function wae(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vB(t,e)})}(t,e),function Eae(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Iae(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vB(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function vae(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function mg(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),_g(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function yg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function V0(t,e){const n=cB(t);null!==e.validator?t.setValidators(uB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=lB(t);null!==e.asyncValidator?t.setAsyncValidators(uB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();yg(e._rawValidators,i),yg(e._rawAsyncValidators,i)}function _g(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=cB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=lB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return yg(e._rawValidators,r),yg(e._rawAsyncValidators,r),n}function vB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function EB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function DB(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const _i=class extends _B{constructor(e=null,n,r){super(F0(n),L0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=DB(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){DB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let vg=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),xB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=St({}),t})();const H0=new L("NgModelWithFormControlWarning"),Fae={provide:dn,useExisting:Ae(()=>au)};let au=(()=>{class t extends dn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_g(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Kl(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){mg(n.control||null,n,!1),function Tae(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function IB(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(mg(r||null,n),(t=>t instanceof _i)(i)&&(Kl(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function wB(t,e){V0(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Dae(t,e){return _g(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){V0(this.form,this),this._oldForm&&_g(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(D(Xt,10),D(Yi,10),D(ou,8))},t.\u0275dir=K({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&vt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pe([Fae]),Ie,Un]}),t})();const Uae={provide:Zi,useExisting:Ae(()=>Yl)};let Yl=(()=>{class t extends Zi{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function $0(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ru?n=s:function Cae(t){return Object.getPrototypeOf(t.constructor)===uo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function B0(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function gg(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(D(dn,13),D(Xt,10),D(Yi,10),D(Nr,10),D(H0,8))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Pe([Uae]),Ie,Un]}),t})(),qB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=St({imports:[xB]}),t})(),zB=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ou,useValue:n.callSetDisabledState??pg}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=St({imports:[qB]}),t})(),tue=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:H0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ou,useValue:n.callSetDisabledState??pg}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=St({imports:[qB]}),t})();class Xi{constructor(e){this.auth=e}registerUser({email:e,password:n}){return sne(this.auth,e,n)}login({email:e,password:n}){return ane(this.auth,e,n)}logOut(){return une(this.auth)}}Xi.\u0275fac=function(e){return new(e||Xi)(U(qc))},Xi.\u0275prov=j({token:Xi,factory:Xi.\u0275fac,providedIn:"root"});class Zl{constructor(e,n){this.userService=e,this.router=n,this.condicion="false",this.formLogin=new su({email:new _i,password:new _i})}ngOnInit(){localStorage.setItem("logeado","false")}onSubmit(){this.userService.login(this.formLogin.value).then(e=>{console.log(e),this.router.navigate(["/home"]),this.condicion="true",localStorage.setItem("logeado",this.condicion)}).catch(e=>{console.log(e),this.condicion="false",localStorage.setItem("logeado",this.condicion)})}}Zl.\u0275fac=function(e){return new(e||Zl)(D(Xi),D(ft))},Zl.\u0275cmp=Vr({type:Zl,selectors:[["app-login"]],decls:19,vars:1,consts:[[1,"formulario","bg-blue-500","w-1/3","rounded-xl","p-5","mx-auto","mt-14"],[1,"font-bold","text-4xl","text-center","text-white","uppercase","font-mono"],[1,"mt-6",3,"formGroup"],[1,"bg-white","rounded-lg","p-6","my-4"],[1,"my-2"],["for","email",1,"font-mono","text-xl"],["type","text","placeholder","Ingresar Email","formControlName","email",1,"rounded-lg","border","border-solid","border-slate-500","w-full","px-4","py-2"],["for","password",1,"font-mono","text-xl"],["type","password","placeholder","Ingresar Password","formControlName","password",1,"rounded-lg","border","border-solid","border-slate-500","w-full","px-4","py-2"],[1,"text-center","mt-6"],[1,"bg-blue-700","text-white","hover:bg-blue-800","hover:text-white","text-xl","font-mono","px-8","py-2","rounded-lg",3,"click"]],template:function(e,n){1&e&&(oe(0,"div",0)(1,"h1",1),De(2,"Login"),re(),oe(3,"form",2)(4,"div",3)(5,"div",4)(6,"label",5),De(7,"Correo: "),re()(),oe(8,"div"),Hn(9,"input",6),re()(),oe(10,"div",3)(11,"div",4)(12,"label",7),De(13,"Password: "),re()(),oe(14,"div"),Hn(15,"input",8),re()(),oe(16,"div",9)(17,"button",10),vt("click",function(){return n.onSubmit()}),De(18,"Login"),re()()()()),2&e&&(tr(3),Wr("formGroup",n.formLogin))},dependencies:[vg,ru,cg,lg,au,Yl]});class Xl{constructor(e,n){this.farmaciaService=e,this.router=n,this.formRegister=new su({producto:new _i,costo:new _i,foto:new _i})}ngOnInit(){}onSubmit(){console.log(this.formRegister.value);const e=this.farmaciaService.addProducto(this.formRegister.value);console.log(e),this.router.navigate(["/home"])}}Xl.\u0275fac=function(e){return new(e||Xl)(D(ao),D(ft))},Xl.\u0275cmp=Vr({type:Xl,selectors:[["app-register"]],decls:25,vars:1,consts:[[1,"register","w-2/5","mx-auto","bg-violet-200","rounded-lg","mt-5","p-5"],[1,"text-center","font-mono","text-3xl","font-bold"],[3,"formGroup"],[1,"producto","bg-white","rounded-lg","p-6","my-4"],["for","producto",1,"font-mono","text-xl"],["type","text","formControlName","producto","name","producto",1,"rounded-lg","border","border-solid","border-slate-500","w-full","px-4","py-2"],[1,"costo","bg-white","rounded-lg","p-6","my-4"],["for","costo",1,"font-mono","text-xl"],["type","text","formControlName","costo","name","costo",1,"rounded-lg","border","border-solid","border-slate-500","px-4","py-2","w-full"],[1,"foto","bg-white","rounded-lg","p-6","my-4"],["for","foto",1,"font-mono","text-xl"],["type","text","formControlName","foto","name","foto",1,"rounded-lg","border","border-solid","border-slate-500","px-4","py-2","w-full"],[1,"flex","flex-col"],[1,"rounded-lg","bg-violet-400","px-8","font-mono","py-2","hover:bg-violet-700","hover:text-white","mx-auto",3,"click"]],template:function(e,n){1&e&&(oe(0,"div",0)(1,"h1",1),De(2,"Agregar Producto"),re(),oe(3,"form",2)(4,"div",3)(5,"div")(6,"label",4),De(7,"Producto:"),re()(),oe(8,"div"),Hn(9,"input",5),re()(),oe(10,"div",6)(11,"div")(12,"label",7),De(13,"Costo:"),re()(),oe(14,"div"),Hn(15,"input",8),re()(),oe(16,"div",9)(17,"div")(18,"label",10),De(19,"Foto:"),re()(),oe(20,"div"),Hn(21,"input",11),re()(),oe(22,"div",12)(23,"button",13),vt("click",function(){return n.onSubmit()}),De(24,"Registrar"),re()()()()),2&e&&(tr(3),Wr("formGroup",n.formRegister))},dependencies:[vg,ru,cg,lg,au,Yl]});class Jl{constructor(e,n){this.userservice=e,this.router=n,this.formRegister=new su({email:new _i,password:new _i})}ngOnInit(){}onSubmit(){this.userservice.registerUser(this.formRegister.value).then(e=>{console.log(e),this.router.navigate(["/login"])}).catch(e=>console.log(e))}}Jl.\u0275fac=function(e){return new(e||Jl)(D(Xi),D(ft))},Jl.\u0275cmp=Vr({type:Jl,selectors:[["app-registrar-usuario"]],decls:20,vars:1,consts:[[1,"contenedor"],[1,"formulario","bg-green-500","w-1/3","rounded-xl","p-5","mx-auto","mt-14"],[1,"font-bold","text-3xl","text-center","font-mono","uppercase","text-white","text-4xl"],[1,"mt-6",3,"formGroup"],[1,"bg-white","rounded-lg","p-6","my-4"],[1,"my-2"],["for","email",1,"font-mono","text-xl"],["type","text","placeholder","Ingresar email","formControlName","email",1,"rounded-lg","border","border-solid","border-slate-500","w-full","px-4","py-2"],["for","password",1,"font-mono","text-xl"],["type","password","placeholder","Ingresar password","formControlName","password",1,"rounded-lg","border","border-solid","border-slate-500","w-full","px-4","py-2"],[1,"text-center","mt-6"],[1,"bg-green-700","text-white","hover:bg-green-900","font-mono","text-xl","hover:text-white","px-8","py-2","rounded-lg",3,"click"]],template:function(e,n){1&e&&(oe(0,"div",0)(1,"div",1)(2,"h1",2),De(3,"Registrarte"),re(),oe(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),De(8,"Correo: "),re()(),oe(9,"div"),Hn(10,"input",7),re()(),oe(11,"div",4)(12,"div",5)(13,"label",8),De(14,"Password: "),re()(),oe(15,"div"),Hn(16,"input",9),re()(),oe(17,"div",10)(18,"button",11),vt("click",function(){return n.onSubmit()}),De(19,"Registrar"),re()()()()()),2&e&&(tr(4),Wr("formGroup",n.formRegister))},dependencies:[vg,ru,cg,lg,au,Yl]});const Q0=te(t=>!!t);let nue=(()=>{class t{constructor(n,r){this.router=n,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>Q0);return ine(this.auth).pipe(ea(1),o(i,s),te(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return t.\u0275fac=function(n){return new(n||t)(U(ft),U(qc))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();const WB=t=>({canActivate:[nue],data:{authGuardPipe:t}}),KB=t=>nT(Q0,te(e=>e||t)),iue=[{path:"login",component:Zl},{path:"register",component:Xl,...WB(()=>KB(["/login"]))},{path:"home",component:ql,...WB(()=>KB(["/login"]))},{path:"registrarse",component:Jl},{path:"**",pathMatch:"full",redirectTo:"/login"}];class uu{}function sue(t,e){1&t&&(oe(0,"li")(1,"a",5),De(2,"Home"),re(),oe(3,"a",6),De(4,"Agregar producto "),re()())}function oue(t,e){if(1&t){const n=gy();oe(0,"ul",7)(1,"li")(2,"a",8),vt("click",function(){return Hg(n),Gg(yy().logout())}),De(3,"LogOut "),re()()()}}uu.\u0275fac=function(e){return new(e||uu)},uu.\u0275mod=$t({type:uu}),uu.\u0275inj=St({imports:[w1.forRoot(iue),w1]});const aue=function(){return{exact:!0}};function uue(t,e){1&t&&(oe(0,"ul",7)(1,"li")(2,"a",9),De(3,"Login"),re()(),oe(4,"li")(5,"a",10),De(6,"Registrarse"),re()()()),2&t&&(tr(2),Wr("routerLinkActiveOptions",eR(1,aue)))}class ed{constructor(e,n){this.userService=e,this.router=n,this.elemento=!1}ngOnInit(){this.logueado=String(localStorage.getItem("logeado")),this.elemento="true"===this.logueado}logout(){this.userService.logOut().then(e=>{console.log(e),this.router.navigate(["/login"]),window.location.reload()}).catch(e=>console.log(e))}}ed.\u0275fac=function(e){return new(e||ed)(D(Xi),D(ft))},ed.\u0275cmp=Vr({type:ed,selectors:[["app-nav"]],decls:6,vars:3,consts:[[1,"menu","my-2","bg-black","mx-auto","border","border-black","p-2","rounded-lg","flex","w-5/6"],[1,"flex","flex-row","w-3/4"],[4,"ngIf"],["class","flex flex-row-reverse w-1/4",4,"ngIf","ngIfElse"],["elseBlock",""],["routerLinkActive","bg-blue-700 rounded py-1","routerLink","/home",1,"p-5","text-xl","font-mono","py-2","text-white"],["routerLinkActive","bg-blue-700 rounded py-1","routerLink","/register",1,"p-5","text-xl","font-mono","py-2","text-white"],[1,"flex","flex-row-reverse","w-1/4"],["routerLink","/login",1,"px-5","text-xl","font-mono","text-white","hover:bg-red-500","rounded-lg","px-4","py-1",3,"click"],["routerLinkActive","bg-blue-700 rounded py-1","routerLink","/login",1,"px-5","text-xl","font-mono","text-white",3,"routerLinkActiveOptions"],["routerLinkActive","bg-blue-700 rounded py-1","routerLink","/registrarse",1,"px-5","text-xl","font-mono","text-white"]],template:function(e,n){if(1&e&&(oe(0,"div",0)(1,"ul",1),Hu(2,sue,5,0,"li",2),re(),Hu(3,oue,4,0,"ul",3),Hu(4,uue,7,2,"ng-template",null,4,yR),re()),2&e){const r=function Dx(t){return function wo(t,e){return t[e]}(function gj(){return X.lFrame.contextLView}(),22+t)}(5);tr(2),Wr("ngIf",n.elemento),tr(1),Wr("ngIf",n.elemento)("ngIfElse",r)}},dependencies:[Mk,nf,h1]});class td{constructor(){this.title="session-25"}}td.\u0275fac=function(e){return new(e||td)},td.\u0275cmp=Vr({type:td,selectors:[["app-root"]],decls:2,vars:0,template:function(e,n){1&e&&Hn(0,"app-nav")(1,"router-outlet")},dependencies:[Y_,ed]});const cue_firebase={projectId:"angular-2023-bf783",appId:"1:585900590228:web:bfbcefce326821a804e081",storageBucket:"angular-2023-bf783.appspot.com",apiKey:"AIzaSyDPvtH3wzVuhoZNqwPwyQqRC9yOVpuljv4",authDomain:"angular-2023-bf783.firebaseapp.com",messagingSenderId:"585900590228"};class cu{}cu.\u0275fac=function(e){return new(e||cu)},cu.\u0275mod=$t({type:cu}),cu.\u0275inj=St({imports:[E_,zB]});class lu{}lu.\u0275fac=function(e){return new(e||lu)},lu.\u0275mod=$t({type:lu}),lu.\u0275inj=St({imports:[E_,zB,tue]});class du{}du.\u0275fac=function(e){return new(e||du)},du.\u0275mod=$t({type:du,bootstrap:[td]}),du.\u0275inj=St({imports:[d5,uu,function bX(t,...e){return{ngModule:DX,providers:[{provide:fI,useFactory:EX(t),multi:!0,deps:[Fe,gn,dI,...e]}]}}(()=>CX(cue_firebase)),function Zoe(t,...e){return{ngModule:Yoe,providers:[{provide:x0,useFactory:Woe(t),multi:!0,deps:[Fe,gn,dI,hI,[new qt,pF],[new qt,RI],...e]}]}}(()=>eae()),cu,lu,function rne(t,...e){return{ngModule:nne,providers:[{provide:AD,useFactory:Jte(t),multi:!0,deps:[Fe,gn,dI,hI,[new qt,RI],...e]}]}}(()=>one())]}),l5().bootstrapModule(du).catch(t=>console.error(t))}},Te=>{Te(Te.s=930)}]);